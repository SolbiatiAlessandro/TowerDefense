(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _statesBootJs = require("./states/Boot.js");

var _statesBootJs2 = _interopRequireDefault(_statesBootJs);

var _statesPreloadJs = require("./states/Preload.js");

var _statesPreloadJs2 = _interopRequireDefault(_statesPreloadJs);

var _statesGameJs = require("./states/Game.js");

var _statesGameJs2 = _interopRequireDefault(_statesGameJs);

var game;

window.onload = function () {
  game = new Phaser.Game(800, 600, Phaser.AUTO, 'game');
  game.state.add('boot', _statesBootJs2["default"]);
  game.state.add('preload', _statesPreloadJs2["default"]);
  game.state.add('game', _statesGameJs2["default"]);
  game.state.start('boot');
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7NEJBRWlCLGtCQUFrQjs7OzsrQkFDZixxQkFBcUI7Ozs7NEJBQ3hCLGtCQUFrQjs7OztBQUpuQyxJQUFJLElBQUksQ0FBQzs7QUFPVCxNQUFNLENBQUMsTUFBTSxHQUFHLFlBQVk7QUFDMUIsTUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDdEQsTUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsTUFBTSw0QkFBTyxDQUFDO0FBQzdCLE1BQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFNBQVMsK0JBQVUsQ0FBQztBQUNuQyxNQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLDRCQUFPLENBQUM7QUFDN0IsTUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDMUIsQ0FBQyIsImZpbGUiOiIvVXNlcnMvbGVzc2FuZHJvL0hhY2tpbmcvSlMvR0FNRS9QSEFTRVIvYm9vay10cmF2aXMtZmFhcy9Ub3dlckRlZmVuc2Uvc3JjL2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBnYW1lO1xyXG5cclxuaW1wb3J0IEJvb3QgZnJvbSBcIi4vc3RhdGVzL0Jvb3QuanNcIjtcclxuaW1wb3J0IFByZWxvYWQgZnJvbSBcIi4vc3RhdGVzL1ByZWxvYWQuanNcIjtcclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vc3RhdGVzL0dhbWUuanNcIjtcclxuXHJcblxyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gIGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoODAwLCA2MDAsIFBoYXNlci5BVVRPLCAnZ2FtZScpO1xyXG4gIGdhbWUuc3RhdGUuYWRkKCdib290JywgQm9vdCk7XHJcbiAgZ2FtZS5zdGF0ZS5hZGQoJ3ByZWxvYWQnLCBQcmVsb2FkKTtcclxuICBnYW1lLnN0YXRlLmFkZCgnZ2FtZScsIEdhbWUpO1xyXG4gIGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcclxufTsiXX0=
},{"./states/Boot.js":5,"./states/Game.js":6,"./states/Preload.js":7}],2:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Human = (function (_Phaser$Plugin$Isometric$IsoSprite) {
	_inherits(Human, _Phaser$Plugin$Isometric$IsoSprite);

	function Human(game, x, y, enemies, arrows) {
		_classCallCheck(this, Human);

		_get(Object.getPrototypeOf(Human.prototype), 'constructor', this).call(this, game, x, y, 0, 'human', 0); // what are this params? the second is a iso

		this.animations.add('idle', [10, 11]);
		this.animations.play('idle', 2, true);

		this.anchor.setTo(.5, .5);
		this.enemies = enemies;
		this.arrows = arrows;

		this.showInterval = 400;
		this.shotTime = this.game.time.now + this.shotInterval;
	}

	_createClass(Human, [{
		key: 'update',
		value: function update() {
			if (this.game.time.now > this.shotTime) {
				this.target = this.enemies.findNearest(this.x, this.y);

				if (this.target) {
					var arrow = this.arows.getFirstDead();
					if (!arrow) arrow = this.arrows.create(0, 0, 'arrow');
					arrow.revive();
					arrow.x = this.x;
					arrow.y = this.y;
					arrow.lifespan = 4000;

					arrow.rotation = this.game.physics.arcade.moveToObject(arrow, this.target, 120);

					this.shotTime = this.game.time.now + this.showInterval;
				}
			}
		}
	}]);

	return Human;
})(Phaser.Plugin.Isometric.IsoSprite);

exports['default'] = Human;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvcHJlZmFicy9IdW1hbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztJQUFxQixLQUFLO1dBQUwsS0FBSzs7QUFFZCxVQUZTLEtBQUssQ0FFYixJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFDO3dCQUZwQixLQUFLOztBQUd4Qiw2QkFIbUIsS0FBSyw2Q0FHbEIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7O0FBRWpDLE1BQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3RDLE1BQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7O0FBRXRDLE1BQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUMxQixNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUN2QixNQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQzs7QUFFckIsTUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUM7QUFDeEIsTUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztFQUN2RDs7Y0FkbUIsS0FBSzs7U0FnQm5CLGtCQUFFO0FBQ1AsT0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBQztBQUNyQyxRQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUV2RCxRQUFHLElBQUksQ0FBQyxNQUFNLEVBQUM7QUFDZCxTQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQ3RDLFNBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDckQsVUFBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQ2YsVUFBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLFVBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNqQixVQUFLLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7QUFFdEIsVUFBSyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUNyRCxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFMUIsU0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQztLQUN2RDtJQUNEO0dBQ0Q7OztRQWxDbUIsS0FBSztHQUFTLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFNBQVM7O3FCQUEvQyxLQUFLIiwiZmlsZSI6Ii9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvcHJlZmFicy9IdW1hbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEh1bWFuIGV4dGVuZHMgUGhhc2VyLlBsdWdpbi5Jc29tZXRyaWMuSXNvU3ByaXRlIHtcblxuXHRjb25zdHJ1Y3RvcihnYW1lLCB4LCB5LCBlbmVtaWVzLCBhcnJvd3Mpe1xuXHRcdHN1cGVyKGdhbWUsIHgsIHksIDAsICdodW1hbicsIDApOyAvLyB3aGF0IGFyZSB0aGlzIHBhcmFtcz8gdGhlIHNlY29uZCBpcyBhIGlzb1xuXG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgnaWRsZScsIFsxMCwgMTFdKTtcblx0XHR0aGlzLmFuaW1hdGlvbnMucGxheSgnaWRsZScsIDIsIHRydWUpO1xuXG5cdFx0dGhpcy5hbmNob3Iuc2V0VG8oLjUsIC41KTtcblx0XHR0aGlzLmVuZW1pZXMgPSBlbmVtaWVzO1xuXHRcdHRoaXMuYXJyb3dzID0gYXJyb3dzO1xuXG5cdFx0dGhpcy5zaG93SW50ZXJ2YWwgPSA0MDA7XG5cdFx0dGhpcy5zaG90VGltZSA9IHRoaXMuZ2FtZS50aW1lLm5vdyArIHRoaXMuc2hvdEludGVydmFsO1xuXHR9XG5cblx0dXBkYXRlKCl7XG5cdFx0aWYodGhpcy5nYW1lLnRpbWUubm93ID4gdGhpcy5zaG90VGltZSl7XG5cdFx0XHR0aGlzLnRhcmdldCA9IHRoaXMuZW5lbWllcy5maW5kTmVhcmVzdCh0aGlzLngsIHRoaXMueSk7XG5cblx0XHRcdGlmKHRoaXMudGFyZ2V0KXtcblx0XHRcdFx0dmFyIGFycm93ID0gdGhpcy5hcm93cy5nZXRGaXJzdERlYWQoKTtcblx0XHRcdFx0aWYoIWFycm93KSBhcnJvdyA9IHRoaXMuYXJyb3dzLmNyZWF0ZSgwLCAwLCAnYXJyb3cnKTtcblx0XHRcdFx0YXJyb3cucmV2aXZlKCk7XG5cdFx0XHRcdGFycm93LnggPSB0aGlzLng7XG5cdFx0XHRcdGFycm93LnkgPSB0aGlzLnk7XG5cdFx0XHRcdGFycm93LmxpZmVzcGFuID0gNDAwMDtcblxuXHRcdFx0XHRhcnJvdy5yb3RhdGlvbiA9IHRoaXMuZ2FtZS5waHlzaWNzLmFyY2FkZS5tb3ZlVG9PYmplY3QoXG5cdFx0XHRcdFx0YXJyb3csIHRoaXMudGFyZ2V0LCAxMjApO1xuXHRcdFx0XHRcblx0XHRcdFx0dGhpcy5zaG90VGltZSA9IHRoaXMuZ2FtZS50aW1lLm5vdyArIHRoaXMuc2hvd0ludGVydmFsO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIl19
},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NumberBox = (function (_Phaser$Group) {
	_inherits(NumberBox, _Phaser$Group);

	function NumberBox(game, bgasset, val, parent) {
		_classCallCheck(this, NumberBox);

		_get(Object.getPrototypeOf(NumberBox.prototype), "constructor", this).call(this, game, parent);
		this.create(0, 0, bgasset);
		var style = {
			font: "30px arial",
			align: "center",
			fill: "#fff"
		};
		this.txtValue = new Phaser.Text(this.game, 55, 55, val.toString(), style);
		this.txtValue.anchor.setTo(.5, .5);
		this.add(this.txtValue);
	}

	_createClass(NumberBox, [{
		key: "setValue",
		value: function setValue(val) {
			this.txtValue.text = val.toString();
		}
	}]);

	return NumberBox;
})(Phaser.Group);

exports["default"] = NumberBox;
module.exports = exports["default"];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvcHJlZmFicy9OdW1iZXJCb3guanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7SUFBcUIsU0FBUztXQUFULFNBQVM7O0FBQ2xCLFVBRFMsU0FBUyxDQUNqQixJQUFJLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUM7d0JBRG5CLFNBQVM7O0FBRTVCLDZCQUZtQixTQUFTLDZDQUV0QixJQUFJLEVBQUUsTUFBTSxFQUFFO0FBQ3BCLE1BQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMzQixNQUFJLEtBQUssR0FBRztBQUNYLE9BQUksRUFBRSxZQUFZO0FBQ2xCLFFBQUssRUFBRSxRQUFRO0FBQ2YsT0FBSSxFQUFFLE1BQU07R0FDWixDQUFDO0FBQ0YsTUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQzlCLElBQUksQ0FBQyxJQUFJLEVBQ1QsRUFBRSxFQUNGLEVBQUUsRUFDRixHQUFHLENBQUMsUUFBUSxFQUFFLEVBQ2QsS0FBSyxDQUNMLENBQUM7QUFDRixNQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0VBQ3hCOztjQWxCbUIsU0FBUzs7U0FvQnJCLGtCQUFDLEdBQUcsRUFBQztBQUNaLE9BQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztHQUNwQzs7O1FBdEJtQixTQUFTO0dBQVMsTUFBTSxDQUFDLEtBQUs7O3FCQUE5QixTQUFTIiwiZmlsZSI6Ii9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvcHJlZmFicy9OdW1iZXJCb3guanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBOdW1iZXJCb3ggZXh0ZW5kcyBQaGFzZXIuR3JvdXAge1xuXHRjb25zdHJ1Y3RvcihnYW1lLCBiZ2Fzc2V0LCB2YWwsIHBhcmVudCl7XG5cdFx0c3VwZXIoZ2FtZSwgcGFyZW50KTtcblx0XHR0aGlzLmNyZWF0ZSgwLCAwLCBiZ2Fzc2V0KTtcblx0XHR2YXIgc3R5bGUgPSB7XG5cdFx0XHRmb250OiBcIjMwcHggYXJpYWxcIixcblx0XHRcdGFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0ZmlsbDogXCIjZmZmXCJcblx0XHR9O1xuXHRcdHRoaXMudHh0VmFsdWUgPSBuZXcgUGhhc2VyLlRleHQoXG5cdFx0XHR0aGlzLmdhbWUsXG5cdFx0XHQ1NSxcblx0XHRcdDU1LFxuXHRcdFx0dmFsLnRvU3RyaW5nKCksXG5cdFx0XHRzdHlsZVxuXHRcdCk7XG5cdFx0dGhpcy50eHRWYWx1ZS5hbmNob3Iuc2V0VG8oLjUsLjUpO1xuXHRcdHRoaXMuYWRkKHRoaXMudHh0VmFsdWUpO1xuXHR9XG5cblx0c2V0VmFsdWUodmFsKXtcblx0XHR0aGlzLnR4dFZhbHVlLnRleHQgPSB2YWwudG9TdHJpbmcoKTtcblx0fVxufVxuIl19
},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Skeleton = (function (_Phaser$Plugin$Isometric$IsoSprite) {
	_inherits(Skeleton, _Phaser$Plugin$Isometric$IsoSprite);

	function Skeleton(game, x, y, frame) {
		_classCallCheck(this, Skeleton);

		_get(Object.getPrototypeOf(Skeleton.prototype), 'constructor', this).call(this, game, x, y, 0, 'skeleton', frame);

		this.walkAnim = this.animations.add('walk', [10, 11]);
		this.animations.add('hurt', [12]);
		this.animations.add('attack', [13, 14, 13, 14, 14, 13, 14]);

		this.animations.play('walk', 2, true);

		this.anchor.setTo(.5, .5);

		this.game.physics.enable(this, Phaser.Physics.ARCADE);

		this.path, this.pathPosition;

		this.health = 5;
		this.worth = 20;

		this.pathFinished = new Phaser.Signal();
	}

	_createClass(Skeleton, [{
		key: 'setPath',
		value: function setPath(path) {
			this.path = path;
			this.pathPosition = -1;
		}
	}, {
		key: 'advanceTile',
		value: function advanceTile() {
			this.pathPosition++;

			if (this.pathPosition < this.path.length) {
				//tween
				if (this.path[this.pathPosition].x > this.isoX) {
					this.scale.x = 1;
				} else {
					this.scale.x = -1;
				}

				this.walkMotion = this.game.add.tween(this).to({
					isoX: this.path[this.pathPosition].x,
					isoY: this.path[this.pathPosition].y
				}, 2000, Phaser.Easing.Linear, None, true);
				this.walkMotion.onComplete.add(this.advanceTile, this);
			} else {
				this.animations.play("attack", 2);
				this.animations.currentAnim.onComplete.addOnce(this.attackOver, this);
			}
		}
	}, {
		key: 'attackOver',
		value: function attackOver() {
			this.pathFinished.dispatch(this);
		}
	}]);

	return Skeleton;
})(Phaser.Plugin.Isometric.IsoSprite);

exports['default'] = Skeleton;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvcHJlZmFicy9Ta2VsZXRvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztJQUFxQixRQUFRO1dBQVIsUUFBUTs7QUFDakIsVUFEUyxRQUFRLENBQ2hCLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBQzt3QkFEVixRQUFROztBQUUzQiw2QkFGbUIsUUFBUSw2Q0FFckIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUU7O0FBRXhDLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDckQsTUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNsQyxNQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOztBQUV0RCxNQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOztBQUV0QyxNQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7O0FBRTFCLE1BQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzs7QUFFdEQsTUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDOztBQUU3QixNQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUNoQixNQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQzs7QUFFaEIsTUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztFQUN4Qzs7Y0FwQm1CLFFBQVE7O1NBc0JyQixpQkFBQyxJQUFJLEVBQUM7QUFDWixPQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUNqQixPQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQyxDQUFDO0dBQ3ZCOzs7U0FFVSx1QkFBRTtBQUNaLE9BQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzs7QUFFcEIsT0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFDOztBQUV2QyxRQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFDO0FBQzdDLFNBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNqQixNQUFNO0FBQ04sU0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDbEI7O0FBRUQsUUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzdDLFNBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLFNBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0tBQ3BDLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QyxRQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RCxNQUFNO0FBQ04sUUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2xDLFFBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0RTtHQUNEOzs7U0FFUyxzQkFBRTtBQUNYLE9BQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQ2pDOzs7UUFuRG1CLFFBQVE7R0FBUyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTOztxQkFBbEQsUUFBUSIsImZpbGUiOiIvVXNlcnMvbGVzc2FuZHJvL0hhY2tpbmcvSlMvR0FNRS9QSEFTRVIvYm9vay10cmF2aXMtZmFhcy9Ub3dlckRlZmVuc2Uvc3JjL3ByZWZhYnMvU2tlbGV0b24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTa2VsZXRvbiBleHRlbmRzIFBoYXNlci5QbHVnaW4uSXNvbWV0cmljLklzb1Nwcml0ZXtcblx0Y29uc3RydWN0b3IoZ2FtZSwgeCwgeSwgZnJhbWUpe1xuXHRcdHN1cGVyKGdhbWUsIHgsIHksIDAsICdza2VsZXRvbicsIGZyYW1lKTtcblxuXHRcdHRoaXMud2Fsa0FuaW0gPSB0aGlzLmFuaW1hdGlvbnMuYWRkKCd3YWxrJywgWzEwLDExXSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgnaHVydCcsIFsxMl0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2F0dGFjaycsIFsxMywxNCwxMywxNCwxNCwxMywxNF0pO1xuXG5cdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoJ3dhbGsnLCAyLCB0cnVlKTtcblxuXHRcdHRoaXMuYW5jaG9yLnNldFRvKC41LCAuNSk7XG5cblx0XHR0aGlzLmdhbWUucGh5c2ljcy5lbmFibGUodGhpcywgUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcblxuXHRcdHRoaXMucGF0aCwgdGhpcy5wYXRoUG9zaXRpb247XG5cblx0XHR0aGlzLmhlYWx0aCA9IDU7XG5cdFx0dGhpcy53b3J0aCA9IDIwO1xuXG5cdFx0dGhpcy5wYXRoRmluaXNoZWQgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuXHR9XG5cblx0c2V0UGF0aChwYXRoKXtcblx0XHR0aGlzLnBhdGggPSBwYXRoO1xuXHRcdHRoaXMucGF0aFBvc2l0aW9uID0gLTE7XG5cdH1cblxuXHRhZHZhbmNlVGlsZSgpe1xuXHRcdHRoaXMucGF0aFBvc2l0aW9uKys7XG5cblx0XHRpZih0aGlzLnBhdGhQb3NpdGlvbiA8IHRoaXMucGF0aC5sZW5ndGgpe1xuXHRcdFx0Ly90d2VlblxuXHRcdFx0aWYodGhpcy5wYXRoW3RoaXMucGF0aFBvc2l0aW9uXS54ID4gdGhpcy5pc29YKXtcblx0XHRcdFx0dGhpcy5zY2FsZS54ID0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuc2NhbGUueCA9IC0xO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLndhbGtNb3Rpb24gPSB0aGlzLmdhbWUuYWRkLnR3ZWVuKHRoaXMpLnRvKHtcblx0XHRcdFx0XHRpc29YOiB0aGlzLnBhdGhbdGhpcy5wYXRoUG9zaXRpb25dLngsXG5cdFx0XHRcdFx0aXNvWTogdGhpcy5wYXRoW3RoaXMucGF0aFBvc2l0aW9uXS55LFxuXHRcdFx0XHR9LFx0MjAwMCwgUGhhc2VyLkVhc2luZy5MaW5lYXIsIE5vbmUsIHRydWUpO1xuXHRcdFx0dGhpcy53YWxrTW90aW9uLm9uQ29tcGxldGUuYWRkKHRoaXMuYWR2YW5jZVRpbGUsIHRoaXMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmFuaW1hdGlvbnMucGxheShcImF0dGFja1wiLCAyKTtcblx0XHRcdHRoaXMuYW5pbWF0aW9ucy5jdXJyZW50QW5pbS5vbkNvbXBsZXRlLmFkZE9uY2UodGhpcy5hdHRhY2tPdmVyLCB0aGlzKTtcblx0XHR9XG5cdH1cblxuXHRhdHRhY2tPdmVyKCl7XG5cdFx0dGhpcy5wYXRoRmluaXNoZWQuZGlzcGF0Y2godGhpcyk7XG5cdH1cbn1cbiJdfQ==
},{}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Boot = (function () {
  function Boot() {
    _classCallCheck(this, Boot);
  }

  _createClass(Boot, [{
    key: 'preload',
    value: function preload() {
      this.load.image('preloader', 'assets/images/loading_bar.png');
    }
  }, {
    key: 'create',
    value: function create() {
      this.game.input.maxPointers = 1;
      this.game.state.start('preload');
    }
  }]);

  return Boot;
})();

exports['default'] = Boot;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvc3RhdGVzL0Jvb3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixJQUFJO1dBQUosSUFBSTswQkFBSixJQUFJOzs7ZUFBSixJQUFJOztXQUVoQixtQkFBRztBQUNSLFVBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSwrQkFBK0IsQ0FBQyxDQUFDO0tBQy9EOzs7V0FFSyxrQkFBRztBQUNQLFVBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDaEMsVUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0tBQ2xDOzs7U0FUa0IsSUFBSTs7O3FCQUFKLElBQUkiLCJmaWxlIjoiL1VzZXJzL2xlc3NhbmRyby9IYWNraW5nL0pTL0dBTUUvUEhBU0VSL2Jvb2stdHJhdmlzLWZhYXMvVG93ZXJEZWZlbnNlL3NyYy9zdGF0ZXMvQm9vdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb3Qge1xyXG5cclxuICBwcmVsb2FkKCkge1xyXG4gICAgdGhpcy5sb2FkLmltYWdlKCdwcmVsb2FkZXInLCAnYXNzZXRzL2ltYWdlcy9sb2FkaW5nX2Jhci5wbmcnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIHRoaXMuZ2FtZS5pbnB1dC5tYXhQb2ludGVycyA9IDE7XHJcbiAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ3ByZWxvYWQnKTtcclxuICB9XHJcblxyXG59Il19
},{}],6:[function(require,module,exports){
//require other components

'use strict';

Object.defineProperty(exports, '__esModule', {
	value: true
});

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _prefabsHumanJs = require('../prefabs/Human.js');

var _prefabsHumanJs2 = _interopRequireDefault(_prefabsHumanJs);

var _prefabsSkeletonJs = require('../prefabs/Skeleton.js');

var _prefabsSkeletonJs2 = _interopRequireDefault(_prefabsSkeletonJs);

var _prefabsNumberBoxJs = require('../prefabs/NumberBox.js');

var _prefabsNumberBoxJs2 = _interopRequireDefault(_prefabsNumberBoxJs);

var Enemies = (function () {
	function Enemies(game, parentGroup) {
		_classCallCheck(this, Enemies);

		this.game = game;
		this._enemies = this.game.add.group(parentGroup);
	}

	_createClass(Enemies, [{
		key: 'findNearest',
		value: function findNearest(xc, yc) {
			var lowestChild = null;
			var lowestDistance = 10000000;

			this._enemies.forEach(function (child) {
				var distance = Phaser.Math.distance(xc, yc, child.x, child.y);

				if (!lowestChild) {
					lowestChild = child;
				} else {
					if (distance < lowestDistance) {
						lowestChild = child;
						lowestDistance = distance;
					}
				}
			}, this._enemies, true); // what's true
			return lowerChild;
		}
	}]);

	return Enemies;
})();

var Game = (function (_Phaser$State) {
	_inherits(Game, _Phaser$State);

	function Game() {
		_classCallCheck(this, Game);

		//object level properties
		_get(Object.getPrototypeOf(Game.prototype), 'constructor', this).call(this);
		this.playerLife = 10;
		this.money = 100;
		this.spawnTime = 1000;
	}

	_createClass(Game, [{
		key: 'create',
		value: function create() {
			this.mapData = this.game.cache.getJSON('mapdata');
			this.game.physics.startSystem(Phaser.Physics.ARCADE);
			this.game.time.advancedTiming = true;
			this.game.add.sprite(0, 0, "gamebg");
			this.game.plugins.add(new Phaser.Plugin.Isometric(this.game));
			this.game.iso.anchor.setTo(0.5, 0.2);
			this.isoGroup = this.game.add.group();
			this.isoChars = this.game.add.group();
			this.allies = this.game.add.group(this.isoChars);
			this.enemies = new Enemies(this.game, this.isoChars);
			this.arrows = this.game.add.group();
			this.arrows.enableBody = true;
			this.arrows.physicsBodyType = Phaser.Physics.ARCADE;

			//
			// TEST
			var _human = new _prefabsHumanJs2['default'](this.game, 200, 200);
			this.allies.add(_human);
			var _skeleton = new _prefabsSkeletonJs2['default'](this.game, 300, 200);
			this.allies.add(_skeleton);

			this.spawnTiles();

			this.easystar = new EasyStar.js();
			this.easystar.setGrid(this.mapData.tileMap);
			this.easystar.setAcceptableTiles([1]);
			this.boundFound = this.pathFound.bind(this);
			this.easystar.findPath(1, 0, 0, 4, this.boundFound);

			this.cursorPos = new Phaser.Plugin.Isometric.Point3();
			this.nextSpawn = this.game.time.now + this.spawnTime;
		}
	}, {
		key: 'update',
		value: function update() {
			this.game.iso.unproject(this.game.input.activePointer.position, this.cursorPos);
			this.isoGroup.forEach(this.checkTiles, this, false);
		}
	}, {
		key: 'checkTiles',
		value: function checkTiles(tile) {
			var inBounds = tile.isoBounds.containsXY(this.cursorPos.x, this.cursorPos.y);

			if (!tile.selected && inBounds) {
				tile.selected = true;
				tile.tint = 0x86bfda;
				this.game.add.tween(tile).to({ isoZ: 4 }, 200, Phaser.Easing.Quadratic.InOut, true);
				this.selectedTile = tile;
			} else if (tile.selected && !inBounds) {
				tile.selected = false;
				tile.tint = 0xffffff;
				this.game.add.tween(tile).to({ isoZ: 0 }, 200, Phaser.Easing.Quadratic.InOut, true);
			}
		}
	}, {
		key: 'spawnTiles',
		value: function spawnTiles() {
			var size = 55;
			var mapWidth = this.mapData.tileMap[0].length - 1;
			var mapHeight = this.mapData.tileMap.length - 1;
			this.gameTiles = [];

			var i = 0,
			    tile;
			for (var y = 0; y <= mapHeight; y++) {

				this.gameTiles[y] = [];

				for (var x = 0; x <= mapWidth; x++) {
					var tileNumber = this.mapData.tileMap[y][x];
					var tileName = this.mapData.tileNames[tileNumber];
					tile = this.game.add.isoSprite(x * size, y * size, 0, tileName, 0, this.isoGroup);
					tile.anchor.set(0.5, 0);
					tile.buyable = tileNumber == 0 ? true : false;
					this.gameTiles[y][x] = tile;
				}
			}
		}
	}, {
		key: 'pathFound',
		value: function pathFound(path) {
			if (path != null) {
				this.convertedPath = [];
				var curPoint;
				for (var i = 0; i < path.length; i++) {
					curPoint = this.gameTiles[path[i].y][path[i].x];
					this.convertedPath.push({ x: curPoint.isoX, y: curPoint.isoY });
				}
			}
		}
	}]);

	return Game;
})(Phaser.State);

exports['default'] = Game;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvc3RhdGVzL0dhbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUVrQixxQkFBcUI7Ozs7aUNBQ2xCLHdCQUF3Qjs7OztrQ0FDdkIseUJBQXlCOzs7O0lBRXpDLE9BQU87QUFDRCxVQUROLE9BQU8sQ0FDQSxJQUFJLEVBQUUsV0FBVyxFQUFDO3dCQUR6QixPQUFPOztBQUVSLE1BQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2pCLE1BQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0VBQ3BEOztjQUpJLE9BQU87O1NBTUQscUJBQUMsRUFBRSxFQUFFLEVBQUUsRUFBQztBQUNsQixPQUFJLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFDdkIsT0FBSSxjQUFjLEdBQUcsUUFBUSxDQUFDOztBQUU5QixPQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFTLEtBQUssRUFBQztBQUNwQyxRQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUU5RCxRQUFHLENBQUMsV0FBVyxFQUFDO0FBQ2YsZ0JBQVcsR0FBRyxLQUFLLENBQUM7S0FDcEIsTUFBTTtBQUNOLFNBQUksUUFBUSxHQUFHLGNBQWMsRUFBQztBQUM3QixpQkFBVyxHQUFHLEtBQUssQ0FBQztBQUNwQixvQkFBYyxHQUFHLFFBQVEsQ0FBQztNQUMxQjtLQUNEO0lBQ0QsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3hCLFVBQU8sVUFBVSxDQUFDO0dBQ2xCOzs7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cm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvc3RhdGVzL0dhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL3JlcXVpcmUgb3RoZXIgY29tcG9uZW50c1xyXG5cclxuaW1wb3J0IEh1bWFuIGZyb20gJy4uL3ByZWZhYnMvSHVtYW4uanMnO1xyXG5pbXBvcnQgU2tlbGV0b24gZnJvbSAnLi4vcHJlZmFicy9Ta2VsZXRvbi5qcyc7XHJcbmltcG9ydCBOdW1iZXJCb3ggZnJvbSAnLi4vcHJlZmFicy9OdW1iZXJCb3guanMnO1xyXG5cclxuY2xhc3MgRW5lbWllcyB7XHJcblx0Y29uc3RydWN0b3IoZ2FtZSwgcGFyZW50R3JvdXApe1xyXG5cdCAgICB0aGlzLmdhbWUgPSBnYW1lO1xyXG5cdCAgICB0aGlzLl9lbmVtaWVzID0gdGhpcy5nYW1lLmFkZC5ncm91cChwYXJlbnRHcm91cCk7XHJcblx0fVxyXG5cclxuXHRmaW5kTmVhcmVzdCh4YywgeWMpe1xyXG5cdFx0dmFyIGxvd2VzdENoaWxkID0gbnVsbDtcclxuXHRcdHZhciBsb3dlc3REaXN0YW5jZSA9IDEwMDAwMDAwO1xyXG5cclxuXHRcdHRoaXMuX2VuZW1pZXMuZm9yRWFjaChmdW5jdGlvbihjaGlsZCl7XHJcblx0XHRcdHZhciBkaXN0YW5jZSA9IFBoYXNlci5NYXRoLmRpc3RhbmNlKHhjLCB5YywgY2hpbGQueCwgY2hpbGQueSk7XHJcblxyXG5cdFx0XHRpZighbG93ZXN0Q2hpbGQpe1xyXG5cdFx0XHRcdGxvd2VzdENoaWxkID0gY2hpbGQ7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGRpc3RhbmNlIDwgbG93ZXN0RGlzdGFuY2Upe1xyXG5cdFx0XHRcdFx0bG93ZXN0Q2hpbGQgPSBjaGlsZDtcclxuXHRcdFx0XHRcdGxvd2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LCB0aGlzLl9lbmVtaWVzLCB0cnVlKTsgLy8gd2hhdCdzIHRydWVcclxuXHRcdHJldHVybiBsb3dlckNoaWxkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgLy9vYmplY3QgbGV2ZWwgcHJvcGVydGllc1xyXG4gICAgc3VwZXIoKTtcclxuXHR0aGlzLnBsYXllckxpZmUgPSAxMDtcclxuXHR0aGlzLm1vbmV5ID0gMTAwO1xyXG5cdHRoaXMuc3Bhd25UaW1lID0gMTAwMDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgICAgdGhpcy5tYXBEYXRhID0gIHRoaXMuZ2FtZS5jYWNoZS5nZXRKU09OKCdtYXBkYXRhJyk7XHJcblx0ICB0aGlzLmdhbWUucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpXHJcblx0ICB0aGlzLmdhbWUudGltZS5hZHZhbmNlZFRpbWluZyA9IHRydWU7XHJcblx0ICB0aGlzLmdhbWUuYWRkLnNwcml0ZSgwLCAwLCBcImdhbWViZ1wiKTtcclxuXHQgIHRoaXMuZ2FtZS5wbHVnaW5zLmFkZChuZXcgUGhhc2VyLlBsdWdpbi5Jc29tZXRyaWModGhpcy5nYW1lKSk7XHJcblx0ICB0aGlzLmdhbWUuaXNvLmFuY2hvci5zZXRUbygwLjUsIDAuMik7XHJcblx0ICB0aGlzLmlzb0dyb3VwID0gdGhpcy5nYW1lLmFkZC5ncm91cCgpO1xyXG5cdCAgdGhpcy5pc29DaGFycyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHQgIHRoaXMuYWxsaWVzID0gdGhpcy5nYW1lLmFkZC5ncm91cCh0aGlzLmlzb0NoYXJzKTtcclxuXHQgIHRoaXMuZW5lbWllcyA9IG5ldyBFbmVtaWVzKHRoaXMuZ2FtZSwgdGhpcy5pc29DaGFycyk7XHJcblx0ICB0aGlzLmFycm93cyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcclxuXHQgIHRoaXMuYXJyb3dzLmVuYWJsZUJvZHkgPSB0cnVlO1xyXG5cdCAgdGhpcy5hcnJvd3MucGh5c2ljc0JvZHlUeXBlID0gUGhhc2VyLlBoeXNpY3MuQVJDQURFO1xyXG5cclxuXHQgIC8vXHJcblx0ICAvLyBURVNUXHJcblx0ICB2YXIgX2h1bWFuID0gbmV3IEh1bWFuKHRoaXMuZ2FtZSwgMjAwLCAyMDApO1xyXG5cdCAgdGhpcy5hbGxpZXMuYWRkKF9odW1hbik7XHJcblx0ICB2YXIgX3NrZWxldG9uID0gbmV3IFNrZWxldG9uKHRoaXMuZ2FtZSwgMzAwLCAyMDApO1xyXG5cdCAgdGhpcy5hbGxpZXMuYWRkKF9za2VsZXRvbik7XHJcblxyXG5cdCAgdGhpcy5zcGF3blRpbGVzKCk7XHJcblxyXG5cdCAgdGhpcy5lYXN5c3RhciA9IG5ldyBFYXN5U3Rhci5qcygpO1xyXG5cdCAgdGhpcy5lYXN5c3Rhci5zZXRHcmlkKHRoaXMubWFwRGF0YS50aWxlTWFwKTtcclxuXHQgIHRoaXMuZWFzeXN0YXIuc2V0QWNjZXB0YWJsZVRpbGVzKFsxXSk7XHJcblx0ICB0aGlzLmJvdW5kRm91bmQgPSB0aGlzLnBhdGhGb3VuZC5iaW5kKHRoaXMpO1xyXG5cdCAgdGhpcy5lYXN5c3Rhci5maW5kUGF0aCgxLCAwLCAwLCA0LCB0aGlzLmJvdW5kRm91bmQpO1xyXG5cclxuXHQgIHRoaXMuY3Vyc29yUG9zID0gbmV3IFBoYXNlci5QbHVnaW4uSXNvbWV0cmljLlBvaW50MygpO1xyXG5cdCAgdGhpcy5uZXh0U3Bhd24gPSB0aGlzLmdhbWUudGltZS5ub3cgKyB0aGlzLnNwYXduVGltZTtcclxuICB9XHJcblxyXG5cclxuICB1cGRhdGUoKSB7XHJcblx0ICB0aGlzLmdhbWUuaXNvLnVucHJvamVjdCh0aGlzLmdhbWUuaW5wdXQuYWN0aXZlUG9pbnRlci5wb3NpdGlvbiwgdGhpcy5jdXJzb3JQb3MpO1xyXG5cdCAgdGhpcy5pc29Hcm91cC5mb3JFYWNoKHRoaXMuY2hlY2tUaWxlcywgdGhpcywgZmFsc2UpO1xyXG4gIH1cclxuXHJcblxyXG4gIGNoZWNrVGlsZXModGlsZSl7XHJcblx0ICB2YXIgaW5Cb3VuZHMgPSB0aWxlLmlzb0JvdW5kcy5jb250YWluc1hZKHRoaXMuY3Vyc29yUG9zLngsIHRoaXMuY3Vyc29yUG9zLnkpO1xyXG5cclxuXHQgIGlmKCF0aWxlLnNlbGVjdGVkICYmIGluQm91bmRzKXtcclxuXHRcdCAgdGlsZS5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHQgIHRpbGUudGludCA9IDB4ODZiZmRhO1xyXG5cdFx0ICB0aGlzLmdhbWUuYWRkLnR3ZWVuKHRpbGUpLnRvKCB7aXNvWjogNH0gLCAyMDAsIFBoYXNlci5FYXNpbmcuUXVhZHJhdGljLkluT3V0LCB0cnVlICk7XHJcblx0XHQgIHRoaXMuc2VsZWN0ZWRUaWxlID0gdGlsZTtcclxuXHQgIH0gZWxzZSBpZiAodGlsZS5zZWxlY3RlZCAmJiAhaW5Cb3VuZHMpe1xyXG5cdFx0ICB0aWxlLnNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHQgIHRpbGUudGludCA9IDB4ZmZmZmZmO1xyXG5cdFx0ICB0aGlzLmdhbWUuYWRkLnR3ZWVuKHRpbGUpLnRvKHtpc29aOiAwfSwgMjAwLCBQaGFzZXIuRWFzaW5nLlF1YWRyYXRpYy5Jbk91dCwgdHJ1ZSk7XHJcblx0ICB9XHJcblxyXG4gIH1cclxuXHJcbiAgc3Bhd25UaWxlcygpe1xyXG5cdCAgdmFyIHNpemUgPSA1NTtcclxuXHQgIHZhciBtYXBXaWR0aCA9IHRoaXMubWFwRGF0YS50aWxlTWFwWzBdLmxlbmd0aCAtIDE7XHJcblx0ICB2YXIgbWFwSGVpZ2h0ID0gdGhpcy5tYXBEYXRhLnRpbGVNYXAubGVuZ3RoIC0gMTtcclxuXHQgIHRoaXMuZ2FtZVRpbGVzID0gW107XHJcblxyXG5cdCAgdmFyIGk9MCwgdGlsZTtcclxuXHQgIGZvciAodmFyIHkgPSAwOyB5IDw9IG1hcEhlaWdodDsgeSsrKXtcclxuXHJcblx0XHQgIHRoaXMuZ2FtZVRpbGVzW3ldID0gW107XHJcblxyXG5cdFx0ICBmb3IodmFyIHggPSAwOyB4IDw9IG1hcFdpZHRoOyB4Kyspe1xyXG5cdFx0XHQgIHZhciB0aWxlTnVtYmVyID0gdGhpcy5tYXBEYXRhLnRpbGVNYXBbeV1beF07XHJcblx0XHRcdCAgdmFyIHRpbGVOYW1lID0gdGhpcy5tYXBEYXRhLnRpbGVOYW1lc1t0aWxlTnVtYmVyXTtcclxuXHRcdFx0ICB0aWxlID0gdGhpcy5nYW1lLmFkZC5pc29TcHJpdGUoXHJcblx0XHRcdFx0ICB4KnNpemUsXHJcblx0XHRcdFx0ICB5KnNpemUsXHJcblx0XHRcdFx0ICAwLFxyXG5cdFx0XHRcdCAgdGlsZU5hbWUsXHJcblx0XHRcdFx0ICAwLFxyXG5cdFx0XHRcdCAgdGhpcy5pc29Hcm91cFxyXG5cdFx0XHQgICk7XHJcblx0XHRcdCAgdGlsZS5hbmNob3Iuc2V0KDAuNSwgMCk7XHJcblx0XHRcdCAgdGlsZS5idXlhYmxlID0gKHRpbGVOdW1iZXIgPT0gMCkgPyB0cnVlIDogZmFsc2U7XHJcblx0XHRcdCAgdGhpcy5nYW1lVGlsZXNbeV1beF0gPSB0aWxlO1xyXG5cdFx0ICB9XHJcblx0ICB9XHJcbiAgfVxyXG5cclxuICBwYXRoRm91bmQocGF0aCl7XHJcblx0ICBpZiAocGF0aCAhPSBudWxsKXtcclxuXHRcdCAgdGhpcy5jb252ZXJ0ZWRQYXRoID0gW107XHJcblx0XHQgIHZhciBjdXJQb2ludDtcclxuXHRcdCAgZm9yKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHQgIGN1clBvaW50ID0gdGhpcy5nYW1lVGlsZXNbcGF0aFtpXS55XVtwYXRoW2ldLnhdO1xyXG5cdFx0XHQgIHRoaXMuY29udmVydGVkUGF0aC5wdXNoKCB7eDogY3VyUG9pbnQuaXNvWCwgeTogY3VyUG9pbnQuaXNvWX0gKTtcclxuXHRcdCAgfVxyXG5cdCAgfVxyXG4gIH1cclxuXHJcblxyXG59XHJcbiJdfQ==
},{"../prefabs/Human.js":2,"../prefabs/NumberBox.js":3,"../prefabs/Skeleton.js":4}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Preload = (function () {
  function Preload() {
    _classCallCheck(this, Preload);

    this.asset = null;
    this.ready = false;
  }

  _createClass(Preload, [{
    key: 'preload',
    value: function preload() {
      this.load.image('loading_bg', 'assets/images/loading_bg.jpg');
    }
  }, {
    key: 'create',
    value: function create() {

      //background for game
      this.add.sprite(0, 0, "loading_bg");

      this.asset = this.add.sprite(this.game.width / 2, this.game.height / 2, 'preloader');
      this.asset.anchor.setTo(0.5, 0.5);

      this.load.onLoadComplete.addOnce(this.onLoadComplete, this);
      this.load.setPreloadSprite(this.asset);

      //do all your loading here
      this.load.pack('level1', 'assets/assetPack.json', null, this);

      //staaaart load
      this.load.start();
    }
  }, {
    key: 'update',
    value: function update() {

      if (this.ready) {
        this.game.state.start('game');
      }
    }
  }, {
    key: 'onLoadComplete',
    value: function onLoadComplete() {
      this.ready = true;
    }
  }]);

  return Preload;
})();

exports['default'] = Preload;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZXNzYW5kcm8vSGFja2luZy9KUy9HQU1FL1BIQVNFUi9ib29rLXRyYXZpcy1mYWFzL1Rvd2VyRGVmZW5zZS9zcmMvc3RhdGVzL1ByZWxvYWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFxQixPQUFPO0FBRWYsV0FGUSxPQUFPLEdBRVo7MEJBRkssT0FBTzs7QUFHeEIsUUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDbEIsUUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7R0FDcEI7O2VBTGtCLE9BQU87O1dBT25CLG1CQUFHO0FBQ1IsVUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxFQUFFLDhCQUE4QixDQUFDLENBQUM7S0FDL0Q7OztXQUVLLGtCQUFHOzs7QUFHUCxVQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDOztBQUVuQyxVQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDaEYsVUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzs7QUFFbEMsVUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUQsVUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7OztBQUd2QyxVQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsdUJBQXVCLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDOzs7QUFJOUQsVUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztLQUNuQjs7O1dBRUssa0JBQUc7O0FBRVAsVUFBRyxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQ2IsWUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQy9CO0tBRUY7OztXQUVhLDBCQUFHO0FBQ2YsVUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7S0FDbkI7OztTQXhDa0IsT0FBTzs7O3FCQUFQLE9BQU8iLCJmaWxlIjoiL1VzZXJzL2xlc3NhbmRyby9IYWNraW5nL0pTL0dBTUUvUEhBU0VSL2Jvb2stdHJhdmlzLWZhYXMvVG93ZXJEZWZlbnNlL3NyYy9zdGF0ZXMvUHJlbG9hZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWQge1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuYXNzZXQgPSBudWxsO1xyXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnbG9hZGluZ19iZycsICdhc3NldHMvaW1hZ2VzL2xvYWRpbmdfYmcuanBnJyk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGUoKSB7XHJcblxyXG4gICAgLy9iYWNrZ3JvdW5kIGZvciBnYW1lXHJcbiAgICB0aGlzLmFkZC5zcHJpdGUoMCwwLCBcImxvYWRpbmdfYmdcIik7XHJcblxyXG4gICAgdGhpcy5hc3NldCA9IHRoaXMuYWRkLnNwcml0ZSh0aGlzLmdhbWUud2lkdGgvMix0aGlzLmdhbWUuaGVpZ2h0LzIsICdwcmVsb2FkZXInKTtcclxuICAgIHRoaXMuYXNzZXQuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcclxuXHJcbiAgICB0aGlzLmxvYWQub25Mb2FkQ29tcGxldGUuYWRkT25jZSh0aGlzLm9uTG9hZENvbXBsZXRlLCB0aGlzKTtcclxuICAgIHRoaXMubG9hZC5zZXRQcmVsb2FkU3ByaXRlKHRoaXMuYXNzZXQpO1xyXG5cclxuICAgIC8vZG8gYWxsIHlvdXIgbG9hZGluZyBoZXJlXHJcbiAgICB0aGlzLmxvYWQucGFjaygnbGV2ZWwxJywgJ2Fzc2V0cy9hc3NldFBhY2suanNvbicsIG51bGwsIHRoaXMpO1xyXG5cclxuXHJcbiAgICAvL3N0YWFhYXJ0IGxvYWRcclxuICAgIHRoaXMubG9hZC5zdGFydCgpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlKCkge1xyXG5cclxuICAgIGlmKHRoaXMucmVhZHkpIHtcclxuICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdnYW1lJyk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgb25Mb2FkQ29tcGxldGUoKSB7XHJcbiAgICB0aGlzLnJlYWR5ID0gdHJ1ZTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==
},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXBwLmpzIiwic3JjL3ByZWZhYnMvSHVtYW4uanMiLCJzcmMvcHJlZmFicy9OdW1iZXJCb3guanMiLCJzcmMvcHJlZmFicy9Ta2VsZXRvbi5qcyIsInNyYy9zdGF0ZXMvQm9vdC5qcyIsInNyYy9zdGF0ZXMvR2FtZS5qcyIsInNyYy9zdGF0ZXMvUHJlbG9hZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IFwiZGVmYXVsdFwiOiBvYmogfTsgfVxuXG52YXIgX3N0YXRlc0Jvb3RKcyA9IHJlcXVpcmUoXCIuL3N0YXRlcy9Cb290LmpzXCIpO1xuXG52YXIgX3N0YXRlc0Jvb3RKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNCb290SnMpO1xuXG52YXIgX3N0YXRlc1ByZWxvYWRKcyA9IHJlcXVpcmUoXCIuL3N0YXRlcy9QcmVsb2FkLmpzXCIpO1xuXG52YXIgX3N0YXRlc1ByZWxvYWRKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNQcmVsb2FkSnMpO1xuXG52YXIgX3N0YXRlc0dhbWVKcyA9IHJlcXVpcmUoXCIuL3N0YXRlcy9HYW1lLmpzXCIpO1xuXG52YXIgX3N0YXRlc0dhbWVKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdGF0ZXNHYW1lSnMpO1xuXG52YXIgZ2FtZTtcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZSg4MDAsIDYwMCwgUGhhc2VyLkFVVE8sICdnYW1lJyk7XG4gIGdhbWUuc3RhdGUuYWRkKCdib290JywgX3N0YXRlc0Jvb3RKczJbXCJkZWZhdWx0XCJdKTtcbiAgZ2FtZS5zdGF0ZS5hZGQoJ3ByZWxvYWQnLCBfc3RhdGVzUHJlbG9hZEpzMltcImRlZmF1bHRcIl0pO1xuICBnYW1lLnN0YXRlLmFkZCgnZ2FtZScsIF9zdGF0ZXNHYW1lSnMyW1wiZGVmYXVsdFwiXSk7XG4gIGdhbWUuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12WVhCd0xtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3TkVKQlJXbENMR3RDUVVGclFqczdPenNyUWtGRFppeHhRa0ZCY1VJN096czdORUpCUTNoQ0xHdENRVUZyUWpzN096dEJRVXB1UXl4SlFVRkpMRWxCUVVrc1EwRkJRenM3UVVGUFZDeE5RVUZOTEVOQlFVTXNUVUZCVFN4SFFVRkhMRmxCUVZrN1FVRkRNVUlzVFVGQlNTeEhRVUZITEVsQlFVa3NUVUZCVFN4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFVkJRVVVzUjBGQlJ5eEZRVUZGTEUxQlFVMHNRMEZCUXl4SlFVRkpMRVZCUVVVc1RVRkJUU3hEUVVGRExFTkJRVU03UVVGRGRFUXNUVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhIUVVGSExFTkJRVU1zVFVGQlRTdzBRa0ZCVHl4RFFVRkRPMEZCUXpkQ0xFMUJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNSMEZCUnl4RFFVRkRMRk5CUVZNc0swSkJRVlVzUTBGQlF6dEJRVU51UXl4TlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFZEJRVWNzUTBGQlF5eE5RVUZOTERSQ1FVRlBMRU5CUVVNN1FVRkROMElzVFVGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4TFFVRkxMRU5CUVVNc1RVRkJUU3hEUVVGRExFTkJRVU03UTBGRE1VSXNRMEZCUXlJc0ltWnBiR1VpT2lJdlZYTmxjbk12YkdWemMyRnVaSEp2TDBoaFkydHBibWN2U2xNdlIwRk5SUzlRU0VGVFJWSXZZbTl2YXkxMGNtRjJhWE10Wm1GaGN5OVViM2RsY2tSbFptVnVjMlV2YzNKakwyRndjQzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJuWVcxbE8xeHlYRzVjY2x4dWFXMXdiM0owSUVKdmIzUWdabkp2YlNCY0lpNHZjM1JoZEdWekwwSnZiM1F1YW5OY0lqdGNjbHh1YVcxd2IzSjBJRkJ5Wld4dllXUWdabkp2YlNCY0lpNHZjM1JoZEdWekwxQnlaV3h2WVdRdWFuTmNJanRjY2x4dWFXMXdiM0owSUVkaGJXVWdabkp2YlNCY0lpNHZjM1JoZEdWekwwZGhiV1V1YW5OY0lqdGNjbHh1WEhKY2JseHlYRzUzYVc1a2IzY3ViMjVzYjJGa0lEMGdablZ1WTNScGIyNGdLQ2tnZTF4eVhHNGdJR2RoYldVZ1BTQnVaWGNnVUdoaGMyVnlMa2RoYldVb09EQXdMQ0EyTURBc0lGQm9ZWE5sY2k1QlZWUlBMQ0FuWjJGdFpTY3BPMXh5WEc0Z0lHZGhiV1V1YzNSaGRHVXVZV1JrS0NkaWIyOTBKeXdnUW05dmRDazdYSEpjYmlBZ1oyRnRaUzV6ZEdGMFpTNWhaR1FvSjNCeVpXeHZZV1FuTENCUWNtVnNiMkZrS1R0Y2NseHVJQ0JuWVcxbExuTjBZWFJsTG1Ga1pDZ25aMkZ0WlNjc0lFZGhiV1VwTzF4eVhHNGdJR2RoYldVdWMzUmhkR1V1YzNSaGNuUW9KMkp2YjNRbktUdGNjbHh1ZlRzaVhYMD0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgSHVtYW4gPSAoZnVuY3Rpb24gKF9QaGFzZXIkUGx1Z2luJElzb21ldHJpYyRJc29TcHJpdGUpIHtcblx0X2luaGVyaXRzKEh1bWFuLCBfUGhhc2VyJFBsdWdpbiRJc29tZXRyaWMkSXNvU3ByaXRlKTtcblxuXHRmdW5jdGlvbiBIdW1hbihnYW1lLCB4LCB5LCBlbmVtaWVzLCBhcnJvd3MpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgSHVtYW4pO1xuXG5cdFx0X2dldChPYmplY3QuZ2V0UHJvdG90eXBlT2YoSHVtYW4ucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBnYW1lLCB4LCB5LCAwLCAnaHVtYW4nLCAwKTsgLy8gd2hhdCBhcmUgdGhpcyBwYXJhbXM/IHRoZSBzZWNvbmQgaXMgYSBpc29cblxuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2lkbGUnLCBbMTAsIDExXSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoJ2lkbGUnLCAyLCB0cnVlKTtcblxuXHRcdHRoaXMuYW5jaG9yLnNldFRvKC41LCAuNSk7XG5cdFx0dGhpcy5lbmVtaWVzID0gZW5lbWllcztcblx0XHR0aGlzLmFycm93cyA9IGFycm93cztcblxuXHRcdHRoaXMuc2hvd0ludGVydmFsID0gNDAwO1xuXHRcdHRoaXMuc2hvdFRpbWUgPSB0aGlzLmdhbWUudGltZS5ub3cgKyB0aGlzLnNob3RJbnRlcnZhbDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhIdW1hbiwgW3tcblx0XHRrZXk6ICd1cGRhdGUnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG5cdFx0XHRpZiAodGhpcy5nYW1lLnRpbWUubm93ID4gdGhpcy5zaG90VGltZSkge1xuXHRcdFx0XHR0aGlzLnRhcmdldCA9IHRoaXMuZW5lbWllcy5maW5kTmVhcmVzdCh0aGlzLngsIHRoaXMueSk7XG5cblx0XHRcdFx0aWYgKHRoaXMudGFyZ2V0KSB7XG5cdFx0XHRcdFx0dmFyIGFycm93ID0gdGhpcy5hcm93cy5nZXRGaXJzdERlYWQoKTtcblx0XHRcdFx0XHRpZiAoIWFycm93KSBhcnJvdyA9IHRoaXMuYXJyb3dzLmNyZWF0ZSgwLCAwLCAnYXJyb3cnKTtcblx0XHRcdFx0XHRhcnJvdy5yZXZpdmUoKTtcblx0XHRcdFx0XHRhcnJvdy54ID0gdGhpcy54O1xuXHRcdFx0XHRcdGFycm93LnkgPSB0aGlzLnk7XG5cdFx0XHRcdFx0YXJyb3cubGlmZXNwYW4gPSA0MDAwO1xuXG5cdFx0XHRcdFx0YXJyb3cucm90YXRpb24gPSB0aGlzLmdhbWUucGh5c2ljcy5hcmNhZGUubW92ZVRvT2JqZWN0KGFycm93LCB0aGlzLnRhcmdldCwgMTIwKTtcblxuXHRcdFx0XHRcdHRoaXMuc2hvdFRpbWUgPSB0aGlzLmdhbWUudGltZS5ub3cgKyB0aGlzLnNob3dJbnRlcnZhbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBIdW1hbjtcbn0pKFBoYXNlci5QbHVnaW4uSXNvbWV0cmljLklzb1Nwcml0ZSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IEh1bWFuO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12Y0hKbFptRmljeTlJZFcxaGJpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPenM3T3pzN096czdPenM3T3p0SlFVRnhRaXhMUVVGTE8xZEJRVXdzUzBGQlN6czdRVUZGWkN4VlFVWlRMRXRCUVVzc1EwRkZZaXhKUVVGSkxFVkJRVVVzUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4UFFVRlBMRVZCUVVVc1RVRkJUU3hGUVVGRE8zZENRVVp3UWl4TFFVRkxPenRCUVVkNFFpdzJRa0ZJYlVJc1MwRkJTeXcyUTBGSGJFSXNTVUZCU1N4RlFVRkZMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzUTBGQlF5eEZRVUZGTEU5QlFVOHNSVUZCUlN4RFFVRkRMRVZCUVVVN08wRkJSV3BETEUxQlFVa3NRMEZCUXl4VlFVRlZMRU5CUVVNc1IwRkJSeXhEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETEVWQlFVVXNSVUZCUlN4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRE8wRkJRM1JETEUxQlFVa3NRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRU5CUVVNN08wRkJSWFJETEUxQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1MwRkJTeXhEUVVGRExFVkJRVVVzUlVGQlJTeEZRVUZGTEVOQlFVTXNRMEZCUXp0QlFVTXhRaXhOUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEU5QlFVOHNRMEZCUXp0QlFVTjJRaXhOUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEUxQlFVMHNRMEZCUXpzN1FVRkZja0lzVFVGQlNTeERRVUZETEZsQlFWa3NSMEZCUnl4SFFVRkhMRU5CUVVNN1FVRkRlRUlzVFVGQlNTeERRVUZETEZGQlFWRXNSMEZCUnl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVkQlFVY3NTVUZCU1N4RFFVRkRMRmxCUVZrc1EwRkJRenRGUVVOMlJEczdZMEZrYlVJc1MwRkJTenM3VTBGblFtNUNMR3RDUVVGRk8wRkJRMUFzVDBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFZEJRVWNzU1VGQlNTeERRVUZETEZGQlFWRXNSVUZCUXp0QlFVTnlReXhSUVVGSkxFTkJRVU1zVFVGQlRTeEhRVUZITEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1YwRkJWeXhEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVWQlFVVXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE96dEJRVVYyUkN4UlFVRkhMRWxCUVVrc1EwRkJReXhOUVVGTkxFVkJRVU03UVVGRFpDeFRRVUZKTEV0QlFVc3NSMEZCUnl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExGbEJRVmtzUlVGQlJTeERRVUZETzBGQlEzUkRMRk5CUVVjc1EwRkJReXhMUVVGTExFVkJRVVVzUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1RVRkJUU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVWQlFVVXNUMEZCVHl4RFFVRkRMRU5CUVVNN1FVRkRja1FzVlVGQlN5eERRVUZETEUxQlFVMHNSVUZCUlN4RFFVRkRPMEZCUTJZc1ZVRkJTeXhEUVVGRExFTkJRVU1zUjBGQlJ5eEpRVUZKTEVOQlFVTXNRMEZCUXl4RFFVRkRPMEZCUTJwQ0xGVkJRVXNzUTBGQlF5eERRVUZETEVkQlFVY3NTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVOcVFpeFZRVUZMTEVOQlFVTXNVVUZCVVN4SFFVRkhMRWxCUVVrc1EwRkJRenM3UVVGRmRFSXNWVUZCU3l4RFFVRkRMRkZCUVZFc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TlFVRk5MRU5CUVVNc1dVRkJXU3hEUVVOeVJDeExRVUZMTEVWQlFVVXNTVUZCU1N4RFFVRkRMRTFCUVUwc1JVRkJSU3hIUVVGSExFTkJRVU1zUTBGQlF6czdRVUZGTVVJc1UwRkJTU3hEUVVGRExGRkJRVkVzUjBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFZEJRVWNzU1VGQlNTeERRVUZETEZsQlFWa3NRMEZCUXp0TFFVTjJSRHRKUVVORU8wZEJRMFE3T3p0UlFXeERiVUlzUzBGQlN6dEhRVUZUTEUxQlFVMHNRMEZCUXl4TlFVRk5MRU5CUVVNc1UwRkJVeXhEUVVGRExGTkJRVk03TzNGQ1FVRXZReXhMUVVGTElpd2labWxzWlNJNklpOVZjMlZ5Y3k5c1pYTnpZVzVrY204dlNHRmphMmx1Wnk5S1V5OUhRVTFGTDFCSVFWTkZVaTlpYjI5ckxYUnlZWFpwY3kxbVlXRnpMMVJ2ZDJWeVJHVm1aVzV6WlM5emNtTXZjSEpsWm1GaWN5OUlkVzFoYmk1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVY0Y0c5eWRDQmtaV1poZFd4MElHTnNZWE56SUVoMWJXRnVJR1Y0ZEdWdVpITWdVR2hoYzJWeUxsQnNkV2RwYmk1SmMyOXRaWFJ5YVdNdVNYTnZVM0J5YVhSbElIdGNibHh1WEhSamIyNXpkSEoxWTNSdmNpaG5ZVzFsTENCNExDQjVMQ0JsYm1WdGFXVnpMQ0JoY25KdmQzTXBlMXh1WEhSY2RITjFjR1Z5S0dkaGJXVXNJSGdzSUhrc0lEQXNJQ2RvZFcxaGJpY3NJREFwT3lBdkx5QjNhR0YwSUdGeVpTQjBhR2x6SUhCaGNtRnRjejhnZEdobElITmxZMjl1WkNCcGN5QmhJR2x6YjF4dVhHNWNkRngwZEdocGN5NWhibWx0WVhScGIyNXpMbUZrWkNnbmFXUnNaU2NzSUZzeE1Dd2dNVEZkS1R0Y2JseDBYSFIwYUdsekxtRnVhVzFoZEdsdmJuTXVjR3hoZVNnbmFXUnNaU2NzSURJc0lIUnlkV1VwTzF4dVhHNWNkRngwZEdocGN5NWhibU5vYjNJdWMyVjBWRzhvTGpVc0lDNDFLVHRjYmx4MFhIUjBhR2x6TG1WdVpXMXBaWE1nUFNCbGJtVnRhV1Z6TzF4dVhIUmNkSFJvYVhNdVlYSnliM2R6SUQwZ1lYSnliM2R6TzF4dVhHNWNkRngwZEdocGN5NXphRzkzU1c1MFpYSjJZV3dnUFNBME1EQTdYRzVjZEZ4MGRHaHBjeTV6YUc5MFZHbHRaU0E5SUhSb2FYTXVaMkZ0WlM1MGFXMWxMbTV2ZHlBcklIUm9hWE11YzJodmRFbHVkR1Z5ZG1Gc08xeHVYSFI5WEc1Y2JseDBkWEJrWVhSbEtDbDdYRzVjZEZ4MGFXWW9kR2hwY3k1bllXMWxMblJwYldVdWJtOTNJRDRnZEdocGN5NXphRzkwVkdsdFpTbDdYRzVjZEZ4MFhIUjBhR2x6TG5SaGNtZGxkQ0E5SUhSb2FYTXVaVzVsYldsbGN5NW1hVzVrVG1WaGNtVnpkQ2gwYUdsekxuZ3NJSFJvYVhNdWVTazdYRzVjYmx4MFhIUmNkR2xtS0hSb2FYTXVkR0Z5WjJWMEtYdGNibHgwWEhSY2RGeDBkbUZ5SUdGeWNtOTNJRDBnZEdocGN5NWhjbTkzY3k1blpYUkdhWEp6ZEVSbFlXUW9LVHRjYmx4MFhIUmNkRngwYVdZb0lXRnljbTkzS1NCaGNuSnZkeUE5SUhSb2FYTXVZWEp5YjNkekxtTnlaV0YwWlNnd0xDQXdMQ0FuWVhKeWIzY25LVHRjYmx4MFhIUmNkRngwWVhKeWIzY3VjbVYyYVhabEtDazdYRzVjZEZ4MFhIUmNkR0Z5Y205M0xuZ2dQU0IwYUdsekxuZzdYRzVjZEZ4MFhIUmNkR0Z5Y205M0xua2dQU0IwYUdsekxuazdYRzVjZEZ4MFhIUmNkR0Z5Y205M0xteHBabVZ6Y0dGdUlEMGdOREF3TUR0Y2JseHVYSFJjZEZ4MFhIUmhjbkp2ZHk1eWIzUmhkR2x2YmlBOUlIUm9hWE11WjJGdFpTNXdhSGx6YVdOekxtRnlZMkZrWlM1dGIzWmxWRzlQWW1wbFkzUW9YRzVjZEZ4MFhIUmNkRngwWVhKeWIzY3NJSFJvYVhNdWRHRnlaMlYwTENBeE1qQXBPMXh1WEhSY2RGeDBYSFJjYmx4MFhIUmNkRngwZEdocGN5NXphRzkwVkdsdFpTQTlJSFJvYVhNdVoyRnRaUzUwYVcxbExtNXZkeUFySUhSb2FYTXVjMmh2ZDBsdWRHVnlkbUZzTzF4dVhIUmNkRngwZlZ4dVhIUmNkSDFjYmx4MGZWeHVmVnh1SWwxOSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIE51bWJlckJveCA9IChmdW5jdGlvbiAoX1BoYXNlciRHcm91cCkge1xuXHRfaW5oZXJpdHMoTnVtYmVyQm94LCBfUGhhc2VyJEdyb3VwKTtcblxuXHRmdW5jdGlvbiBOdW1iZXJCb3goZ2FtZSwgYmdhc3NldCwgdmFsLCBwYXJlbnQpIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgTnVtYmVyQm94KTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKE51bWJlckJveC5wcm90b3R5cGUpLCBcImNvbnN0cnVjdG9yXCIsIHRoaXMpLmNhbGwodGhpcywgZ2FtZSwgcGFyZW50KTtcblx0XHR0aGlzLmNyZWF0ZSgwLCAwLCBiZ2Fzc2V0KTtcblx0XHR2YXIgc3R5bGUgPSB7XG5cdFx0XHRmb250OiBcIjMwcHggYXJpYWxcIixcblx0XHRcdGFsaWduOiBcImNlbnRlclwiLFxuXHRcdFx0ZmlsbDogXCIjZmZmXCJcblx0XHR9O1xuXHRcdHRoaXMudHh0VmFsdWUgPSBuZXcgUGhhc2VyLlRleHQodGhpcy5nYW1lLCA1NSwgNTUsIHZhbC50b1N0cmluZygpLCBzdHlsZSk7XG5cdFx0dGhpcy50eHRWYWx1ZS5hbmNob3Iuc2V0VG8oLjUsIC41KTtcblx0XHR0aGlzLmFkZCh0aGlzLnR4dFZhbHVlKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhOdW1iZXJCb3gsIFt7XG5cdFx0a2V5OiBcInNldFZhbHVlXCIsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbCkge1xuXHRcdFx0dGhpcy50eHRWYWx1ZS50ZXh0ID0gdmFsLnRvU3RyaW5nKCk7XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIE51bWJlckJveDtcbn0pKFBoYXNlci5Hcm91cCk7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gTnVtYmVyQm94O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5c1pYTnpZVzVrY204dlNHRmphMmx1Wnk5S1V5OUhRVTFGTDFCSVFWTkZVaTlpYjI5ckxYUnlZWFpwY3kxbVlXRnpMMVJ2ZDJWeVJHVm1aVzV6WlM5emNtTXZjSEpsWm1GaWN5OU9kVzFpWlhKQ2IzZ3Vhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenM3T3pzN1NVRkJjVUlzVTBGQlV6dFhRVUZVTEZOQlFWTTdPMEZCUTJ4Q0xGVkJSRk1zVTBGQlV5eERRVU5xUWl4SlFVRkpMRVZCUVVVc1QwRkJUeXhGUVVGRkxFZEJRVWNzUlVGQlJTeE5RVUZOTEVWQlFVTTdkMEpCUkc1Q0xGTkJRVk03TzBGQlJUVkNMRFpDUVVadFFpeFRRVUZUTERaRFFVVjBRaXhKUVVGSkxFVkJRVVVzVFVGQlRTeEZRVUZGTzBGQlEzQkNMRTFCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNSVUZCUlN4UFFVRlBMRU5CUVVNc1EwRkJRenRCUVVNelFpeE5RVUZKTEV0QlFVc3NSMEZCUnp0QlFVTllMRTlCUVVrc1JVRkJSU3haUVVGWk8wRkJRMnhDTEZGQlFVc3NSVUZCUlN4UlFVRlJPMEZCUTJZc1QwRkJTU3hGUVVGRkxFMUJRVTA3UjBGRFdpeERRVUZETzBGQlEwWXNUVUZCU1N4RFFVRkRMRkZCUVZFc1IwRkJSeXhKUVVGSkxFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlF6bENMRWxCUVVrc1EwRkJReXhKUVVGSkxFVkJRMVFzUlVGQlJTeEZRVU5HTEVWQlFVVXNSVUZEUml4SFFVRkhMRU5CUVVNc1VVRkJVU3hGUVVGRkxFVkJRMlFzUzBGQlN5eERRVU5NTEVOQlFVTTdRVUZEUml4TlFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFMUJRVTBzUTBGQlF5eExRVUZMTEVOQlFVTXNSVUZCUlN4RlFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRE8wRkJRMnhETEUxQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExGRkJRVkVzUTBGQlF5eERRVUZETzBWQlEzaENPenRqUVd4Q2JVSXNVMEZCVXpzN1UwRnZRbkpDTEd0Q1FVRkRMRWRCUVVjc1JVRkJRenRCUVVOYUxFOUJRVWtzUTBGQlF5eFJRVUZSTEVOQlFVTXNTVUZCU1N4SFFVRkhMRWRCUVVjc1EwRkJReXhSUVVGUkxFVkJRVVVzUTBGQlF6dEhRVU53UXpzN08xRkJkRUp0UWl4VFFVRlRPMGRCUVZNc1RVRkJUU3hEUVVGRExFdEJRVXM3TzNGQ1FVRTVRaXhUUVVGVElpd2labWxzWlNJNklpOVZjMlZ5Y3k5c1pYTnpZVzVrY204dlNHRmphMmx1Wnk5S1V5OUhRVTFGTDFCSVFWTkZVaTlpYjI5ckxYUnlZWFpwY3kxbVlXRnpMMVJ2ZDJWeVJHVm1aVzV6WlM5emNtTXZjSEpsWm1GaWN5OU9kVzFpWlhKQ2IzZ3Vhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKbGVIQnZjblFnWkdWbVlYVnNkQ0JqYkdGemN5Qk9kVzFpWlhKQ2IzZ2daWGgwWlc1a2N5QlFhR0Z6WlhJdVIzSnZkWEFnZTF4dVhIUmpiMjV6ZEhKMVkzUnZjaWhuWVcxbExDQmlaMkZ6YzJWMExDQjJZV3dzSUhCaGNtVnVkQ2w3WEc1Y2RGeDBjM1Z3WlhJb1oyRnRaU3dnY0dGeVpXNTBLVHRjYmx4MFhIUjBhR2x6TG1OeVpXRjBaU2d3TENBd0xDQmlaMkZ6YzJWMEtUdGNibHgwWEhSMllYSWdjM1I1YkdVZ1BTQjdYRzVjZEZ4MFhIUm1iMjUwT2lCY0lqTXdjSGdnWVhKcFlXeGNJaXhjYmx4MFhIUmNkR0ZzYVdkdU9pQmNJbU5sYm5SbGNsd2lMRnh1WEhSY2RGeDBabWxzYkRvZ1hDSWpabVptWENKY2JseDBYSFI5TzF4dVhIUmNkSFJvYVhNdWRIaDBWbUZzZFdVZ1BTQnVaWGNnVUdoaGMyVnlMbFJsZUhRb1hHNWNkRngwWEhSMGFHbHpMbWRoYldVc1hHNWNkRngwWEhRMU5TeGNibHgwWEhSY2REVTFMRnh1WEhSY2RGeDBkbUZzTG5SdlUzUnlhVzVuS0Nrc1hHNWNkRngwWEhSemRIbHNaVnh1WEhSY2RDazdYRzVjZEZ4MGRHaHBjeTUwZUhSV1lXeDFaUzVoYm1Ob2IzSXVjMlYwVkc4b0xqVXNMalVwTzF4dVhIUmNkSFJvYVhNdVlXUmtLSFJvYVhNdWRIaDBWbUZzZFdVcE8xeHVYSFI5WEc1Y2JseDBjMlYwVm1Gc2RXVW9kbUZzS1h0Y2JseDBYSFIwYUdsekxuUjRkRlpoYkhWbExuUmxlSFFnUFNCMllXd3VkRzlUZEhKcGJtY29LVHRjYmx4MGZWeHVmVnh1SWwxOSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuXHR2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICcgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBTa2VsZXRvbiA9IChmdW5jdGlvbiAoX1BoYXNlciRQbHVnaW4kSXNvbWV0cmljJElzb1Nwcml0ZSkge1xuXHRfaW5oZXJpdHMoU2tlbGV0b24sIF9QaGFzZXIkUGx1Z2luJElzb21ldHJpYyRJc29TcHJpdGUpO1xuXG5cdGZ1bmN0aW9uIFNrZWxldG9uKGdhbWUsIHgsIHksIGZyYW1lKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNrZWxldG9uKTtcblxuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKFNrZWxldG9uLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcywgZ2FtZSwgeCwgeSwgMCwgJ3NrZWxldG9uJywgZnJhbWUpO1xuXG5cdFx0dGhpcy53YWxrQW5pbSA9IHRoaXMuYW5pbWF0aW9ucy5hZGQoJ3dhbGsnLCBbMTAsIDExXSk7XG5cdFx0dGhpcy5hbmltYXRpb25zLmFkZCgnaHVydCcsIFsxMl0pO1xuXHRcdHRoaXMuYW5pbWF0aW9ucy5hZGQoJ2F0dGFjaycsIFsxMywgMTQsIDEzLCAxNCwgMTQsIDEzLCAxNF0pO1xuXG5cdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoJ3dhbGsnLCAyLCB0cnVlKTtcblxuXHRcdHRoaXMuYW5jaG9yLnNldFRvKC41LCAuNSk7XG5cblx0XHR0aGlzLmdhbWUucGh5c2ljcy5lbmFibGUodGhpcywgUGhhc2VyLlBoeXNpY3MuQVJDQURFKTtcblxuXHRcdHRoaXMucGF0aCwgdGhpcy5wYXRoUG9zaXRpb247XG5cblx0XHR0aGlzLmhlYWx0aCA9IDU7XG5cdFx0dGhpcy53b3J0aCA9IDIwO1xuXG5cdFx0dGhpcy5wYXRoRmluaXNoZWQgPSBuZXcgUGhhc2VyLlNpZ25hbCgpO1xuXHR9XG5cblx0X2NyZWF0ZUNsYXNzKFNrZWxldG9uLCBbe1xuXHRcdGtleTogJ3NldFBhdGgnLFxuXHRcdHZhbHVlOiBmdW5jdGlvbiBzZXRQYXRoKHBhdGgpIHtcblx0XHRcdHRoaXMucGF0aCA9IHBhdGg7XG5cdFx0XHR0aGlzLnBhdGhQb3NpdGlvbiA9IC0xO1xuXHRcdH1cblx0fSwge1xuXHRcdGtleTogJ2FkdmFuY2VUaWxlJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gYWR2YW5jZVRpbGUoKSB7XG5cdFx0XHR0aGlzLnBhdGhQb3NpdGlvbisrO1xuXG5cdFx0XHRpZiAodGhpcy5wYXRoUG9zaXRpb24gPCB0aGlzLnBhdGgubGVuZ3RoKSB7XG5cdFx0XHRcdC8vdHdlZW5cblx0XHRcdFx0aWYgKHRoaXMucGF0aFt0aGlzLnBhdGhQb3NpdGlvbl0ueCA+IHRoaXMuaXNvWCkge1xuXHRcdFx0XHRcdHRoaXMuc2NhbGUueCA9IDE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5zY2FsZS54ID0gLTE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLndhbGtNb3Rpb24gPSB0aGlzLmdhbWUuYWRkLnR3ZWVuKHRoaXMpLnRvKHtcblx0XHRcdFx0XHRpc29YOiB0aGlzLnBhdGhbdGhpcy5wYXRoUG9zaXRpb25dLngsXG5cdFx0XHRcdFx0aXNvWTogdGhpcy5wYXRoW3RoaXMucGF0aFBvc2l0aW9uXS55XG5cdFx0XHRcdH0sIDIwMDAsIFBoYXNlci5FYXNpbmcuTGluZWFyLCBOb25lLCB0cnVlKTtcblx0XHRcdFx0dGhpcy53YWxrTW90aW9uLm9uQ29tcGxldGUuYWRkKHRoaXMuYWR2YW5jZVRpbGUsIHRoaXMpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5hbmltYXRpb25zLnBsYXkoXCJhdHRhY2tcIiwgMik7XG5cdFx0XHRcdHRoaXMuYW5pbWF0aW9ucy5jdXJyZW50QW5pbS5vbkNvbXBsZXRlLmFkZE9uY2UodGhpcy5hdHRhY2tPdmVyLCB0aGlzKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdhdHRhY2tPdmVyJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gYXR0YWNrT3ZlcigpIHtcblx0XHRcdHRoaXMucGF0aEZpbmlzaGVkLmRpc3BhdGNoKHRoaXMpO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBTa2VsZXRvbjtcbn0pKFBoYXNlci5QbHVnaW4uSXNvbWV0cmljLklzb1Nwcml0ZSk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNrZWxldG9uO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12Y0hKbFptRmljeTlUYTJWc1pYUnZiaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3T3pzN096dEpRVUZ4UWl4UlFVRlJPMWRCUVZJc1VVRkJVVHM3UVVGRGFrSXNWVUZFVXl4UlFVRlJMRU5CUTJoQ0xFbEJRVWtzUlVGQlJTeERRVUZETEVWQlFVVXNRMEZCUXl4RlFVRkZMRXRCUVVzc1JVRkJRenQzUWtGRVZpeFJRVUZST3p0QlFVVXpRaXcyUWtGR2JVSXNVVUZCVVN3MlEwRkZja0lzU1VGQlNTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxGVkJRVlVzUlVGQlJTeExRVUZMTEVWQlFVVTdPMEZCUlhoRExFMUJRVWtzUTBGQlF5eFJRVUZSTEVkQlFVY3NTVUZCU1N4RFFVRkRMRlZCUVZVc1EwRkJReXhIUVVGSExFTkJRVU1zVFVGQlRTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RlFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRGNrUXNUVUZCU1N4RFFVRkRMRlZCUVZVc1EwRkJReXhIUVVGSExFTkJRVU1zVFVGQlRTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVOc1F5eE5RVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRWRCUVVjc1EwRkJReXhSUVVGUkxFVkJRVVVzUTBGQlF5eEZRVUZGTEVWQlFVTXNSVUZCUlN4RlFVRkRMRVZCUVVVc1JVRkJReXhGUVVGRkxFVkJRVU1zUlVGQlJTeEZRVUZETEVWQlFVVXNSVUZCUXl4RlFVRkZMRU5CUVVNc1EwRkJReXhEUVVGRE96dEJRVVYwUkN4TlFVRkpMRU5CUVVNc1ZVRkJWU3hEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVWQlFVVXNRMEZCUXl4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE96dEJRVVYwUXl4TlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExFdEJRVXNzUTBGQlF5eEZRVUZGTEVWQlFVVXNSVUZCUlN4RFFVRkRMRU5CUVVNN08wRkJSVEZDTEUxQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eEpRVUZKTEVWQlFVVXNUVUZCVFN4RFFVRkRMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU1zUTBGQlF6czdRVUZGZEVRc1RVRkJTU3hEUVVGRExFbEJRVWtzUlVGQlJTeEpRVUZKTEVOQlFVTXNXVUZCV1N4RFFVRkRPenRCUVVVM1FpeE5RVUZKTEVOQlFVTXNUVUZCVFN4SFFVRkhMRU5CUVVNc1EwRkJRenRCUVVOb1FpeE5RVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkhMRVZCUVVVc1EwRkJRenM3UVVGRmFFSXNUVUZCU1N4RFFVRkRMRmxCUVZrc1IwRkJSeXhKUVVGSkxFMUJRVTBzUTBGQlF5eE5RVUZOTEVWQlFVVXNRMEZCUXp0RlFVTjRRenM3WTBGd1FtMUNMRkZCUVZFN08xTkJjMEp5UWl4cFFrRkJReXhKUVVGSkxFVkJRVU03UVVGRFdpeFBRVUZKTEVOQlFVTXNTVUZCU1N4SFFVRkhMRWxCUVVrc1EwRkJRenRCUVVOcVFpeFBRVUZKTEVOQlFVTXNXVUZCV1N4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRE8wZEJRM1pDT3pzN1UwRkZWU3gxUWtGQlJUdEJRVU5hTEU5QlFVa3NRMEZCUXl4WlFVRlpMRVZCUVVVc1EwRkJRenM3UVVGRmNFSXNUMEZCUnl4SlFVRkpMRU5CUVVNc1dVRkJXU3hIUVVGSExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RlFVRkRPenRCUVVWMlF5eFJRVUZITEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExGbEJRVmtzUTBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNc1NVRkJTU3hGUVVGRE8wRkJRemRETEZOQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF6dExRVU5xUWl4TlFVRk5PMEZCUTA0c1UwRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNN1MwRkRiRUk3TzBGQlJVUXNVVUZCU1N4RFFVRkRMRlZCUVZVc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4TFFVRkxMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETzBGQlF6ZERMRk5CUVVrc1JVRkJSU3hKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4WlFVRlpMRU5CUVVNc1EwRkJReXhEUVVGRE8wRkJRM0JETEZOQlFVa3NSVUZCUlN4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNRMEZCUXl4RFFVRkRPMHRCUTNCRExFVkJRVVVzU1VGQlNTeEZRVUZGTEUxQlFVMHNRMEZCUXl4TlFVRk5MRU5CUVVNc1RVRkJUU3hGUVVGRkxFbEJRVWtzUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0QlFVTTFReXhSUVVGSkxFTkJRVU1zVlVGQlZTeERRVUZETEZWQlFWVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0SlFVTjJSQ3hOUVVGTk8wRkJRMDRzVVVGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1VVRkJVU3hGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETzBGQlEyeERMRkZCUVVrc1EwRkJReXhWUVVGVkxFTkJRVU1zVjBGQlZ5eERRVUZETEZWQlFWVXNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExGVkJRVlVzUlVGQlJTeEpRVUZKTEVOQlFVTXNRMEZCUXp0SlFVTjBSVHRIUVVORU96czdVMEZGVXl4elFrRkJSVHRCUVVOWUxFOUJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNVVUZCVVN4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRE8wZEJRMnBET3pzN1VVRnVSRzFDTEZGQlFWRTdSMEZCVXl4TlFVRk5MRU5CUVVNc1RVRkJUU3hEUVVGRExGTkJRVk1zUTBGQlF5eFRRVUZUT3p0eFFrRkJiRVFzVVVGQlVTSXNJbVpwYkdVaU9pSXZWWE5sY25NdmJHVnpjMkZ1WkhKdkwwaGhZMnRwYm1jdlNsTXZSMEZOUlM5UVNFRlRSVkl2WW05dmF5MTBjbUYyYVhNdFptRmhjeTlVYjNkbGNrUmxabVZ1YzJVdmMzSmpMM0J5WldaaFluTXZVMnRsYkdWMGIyNHVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKbGVIQnZjblFnWkdWbVlYVnNkQ0JqYkdGemN5QlRhMlZzWlhSdmJpQmxlSFJsYm1SeklGQm9ZWE5sY2k1UWJIVm5hVzR1U1hOdmJXVjBjbWxqTGtsemIxTndjbWwwWlh0Y2JseDBZMjl1YzNSeWRXTjBiM0lvWjJGdFpTd2dlQ3dnZVN3Z1puSmhiV1VwZTF4dVhIUmNkSE4xY0dWeUtHZGhiV1VzSUhnc0lIa3NJREFzSUNkemEyVnNaWFJ2Ymljc0lHWnlZVzFsS1R0Y2JseHVYSFJjZEhSb2FYTXVkMkZzYTBGdWFXMGdQU0IwYUdsekxtRnVhVzFoZEdsdmJuTXVZV1JrS0NkM1lXeHJKeXdnV3pFd0xERXhYU2s3WEc1Y2RGeDBkR2hwY3k1aGJtbHRZWFJwYjI1ekxtRmtaQ2duYUhWeWRDY3NJRnN4TWwwcE8xeHVYSFJjZEhSb2FYTXVZVzVwYldGMGFXOXVjeTVoWkdRb0oyRjBkR0ZqYXljc0lGc3hNeXd4TkN3eE15d3hOQ3d4TkN3eE15d3hORjBwTzF4dVhHNWNkRngwZEdocGN5NWhibWx0WVhScGIyNXpMbkJzWVhrb0ozZGhiR3NuTENBeUxDQjBjblZsS1R0Y2JseHVYSFJjZEhSb2FYTXVZVzVqYUc5eUxuTmxkRlJ2S0M0MUxDQXVOU2s3WEc1Y2JseDBYSFIwYUdsekxtZGhiV1V1Y0doNWMybGpjeTVsYm1GaWJHVW9kR2hwY3l3Z1VHaGhjMlZ5TGxCb2VYTnBZM011UVZKRFFVUkZLVHRjYmx4dVhIUmNkSFJvYVhNdWNHRjBhQ3dnZEdocGN5NXdZWFJvVUc5emFYUnBiMjQ3WEc1Y2JseDBYSFIwYUdsekxtaGxZV3gwYUNBOUlEVTdYRzVjZEZ4MGRHaHBjeTUzYjNKMGFDQTlJREl3TzF4dVhHNWNkRngwZEdocGN5NXdZWFJvUm1sdWFYTm9aV1FnUFNCdVpYY2dVR2hoYzJWeUxsTnBaMjVoYkNncE8xeHVYSFI5WEc1Y2JseDBjMlYwVUdGMGFDaHdZWFJvS1h0Y2JseDBYSFIwYUdsekxuQmhkR2dnUFNCd1lYUm9PMXh1WEhSY2RIUm9hWE11Y0dGMGFGQnZjMmwwYVc5dUlEMGdMVEU3WEc1Y2RIMWNibHh1WEhSaFpIWmhibU5sVkdsc1pTZ3BlMXh1WEhSY2RIUm9hWE11Y0dGMGFGQnZjMmwwYVc5dUt5czdYRzVjYmx4MFhIUnBaaWgwYUdsekxuQmhkR2hRYjNOcGRHbHZiaUE4SUhSb2FYTXVjR0YwYUM1c1pXNW5kR2dwZTF4dVhIUmNkRngwTHk5MGQyVmxibHh1WEhSY2RGeDBhV1lvZEdocGN5NXdZWFJvVzNSb2FYTXVjR0YwYUZCdmMybDBhVzl1WFM1NElENGdkR2hwY3k1cGMyOVlLWHRjYmx4MFhIUmNkRngwZEdocGN5NXpZMkZzWlM1NElEMGdNVHRjYmx4MFhIUmNkSDBnWld4elpTQjdYRzVjZEZ4MFhIUmNkSFJvYVhNdWMyTmhiR1V1ZUNBOUlDMHhPMXh1WEhSY2RGeDBmVnh1WEc1Y2RGeDBYSFIwYUdsekxuZGhiR3ROYjNScGIyNGdQU0IwYUdsekxtZGhiV1V1WVdSa0xuUjNaV1Z1S0hSb2FYTXBMblJ2S0h0Y2JseDBYSFJjZEZ4MFhIUnBjMjlZT2lCMGFHbHpMbkJoZEdoYmRHaHBjeTV3WVhSb1VHOXphWFJwYjI1ZExuZ3NYRzVjZEZ4MFhIUmNkRngwYVhOdldUb2dkR2hwY3k1d1lYUm9XM1JvYVhNdWNHRjBhRkJ2YzJsMGFXOXVYUzU1TEZ4dVhIUmNkRngwWEhSOUxGeDBNakF3TUN3Z1VHaGhjMlZ5TGtWaGMybHVaeTVNYVc1bFlYSXNJRTV2Ym1Vc0lIUnlkV1VwTzF4dVhIUmNkRngwZEdocGN5NTNZV3hyVFc5MGFXOXVMbTl1UTI5dGNHeGxkR1V1WVdSa0tIUm9hWE11WVdSMllXNWpaVlJwYkdVc0lIUm9hWE1wTzF4dVhIUmNkSDBnWld4elpTQjdYRzVjZEZ4MFhIUjBhR2x6TG1GdWFXMWhkR2x2Ym5NdWNHeGhlU2hjSW1GMGRHRmphMXdpTENBeUtUdGNibHgwWEhSY2RIUm9hWE11WVc1cGJXRjBhVzl1Y3k1amRYSnlaVzUwUVc1cGJTNXZia052YlhCc1pYUmxMbUZrWkU5dVkyVW9kR2hwY3k1aGRIUmhZMnRQZG1WeUxDQjBhR2x6S1R0Y2JseDBYSFI5WEc1Y2RIMWNibHh1WEhSaGRIUmhZMnRQZG1WeUtDbDdYRzVjZEZ4MGRHaHBjeTV3WVhSb1JtbHVhWE5vWldRdVpHbHpjR0YwWTJnb2RHaHBjeWs3WEc1Y2RIMWNibjFjYmlKZGZRPT0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIEJvb3QgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBCb290KCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCb290KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhCb290LCBbe1xuICAgIGtleTogJ3ByZWxvYWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwcmVsb2FkKCkge1xuICAgICAgdGhpcy5sb2FkLmltYWdlKCdwcmVsb2FkZXInLCAnYXNzZXRzL2ltYWdlcy9sb2FkaW5nX2Jhci5wbmcnKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG4gICAgICB0aGlzLmdhbWUuaW5wdXQubWF4UG9pbnRlcnMgPSAxO1xuICAgICAgdGhpcy5nYW1lLnN0YXRlLnN0YXJ0KCdwcmVsb2FkJyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEJvb3Q7XG59KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBCb290O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12YzNSaGRHVnpMMEp2YjNRdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096dEpRVUZ4UWl4SlFVRkpPMWRCUVVvc1NVRkJTVHN3UWtGQlNpeEpRVUZKT3pzN1pVRkJTaXhKUVVGSk96dFhRVVZvUWl4dFFrRkJSenRCUVVOU0xGVkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRmRCUVZjc1JVRkJSU3dyUWtGQkswSXNRMEZCUXl4RFFVRkRPMHRCUXk5RU96czdWMEZGU3l4clFrRkJSenRCUVVOUUxGVkJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RFFVRkRMRmRCUVZjc1IwRkJSeXhEUVVGRExFTkJRVU03UVVGRGFFTXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUzBGQlN5eERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRPMHRCUTJ4RE96czdVMEZVYTBJc1NVRkJTVHM3TzNGQ1FVRktMRWxCUVVraUxDSm1hV3hsSWpvaUwxVnpaWEp6TDJ4bGMzTmhibVJ5Ynk5SVlXTnJhVzVuTDBwVEwwZEJUVVV2VUVoQlUwVlNMMkp2YjJzdGRISmhkbWx6TFdaaFlYTXZWRzkzWlhKRVpXWmxibk5sTDNOeVl5OXpkR0YwWlhNdlFtOXZkQzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltVjRjRzl5ZENCa1pXWmhkV3gwSUdOc1lYTnpJRUp2YjNRZ2UxeHlYRzVjY2x4dUlDQndjbVZzYjJGa0tDa2dlMXh5WEc0Z0lDQWdkR2hwY3k1c2IyRmtMbWx0WVdkbEtDZHdjbVZzYjJGa1pYSW5MQ0FuWVhOelpYUnpMMmx0WVdkbGN5OXNiMkZrYVc1blgySmhjaTV3Ym1jbktUdGNjbHh1SUNCOVhISmNibHh5WEc0Z0lHTnlaV0YwWlNncElIdGNjbHh1SUNBZ0lIUm9hWE11WjJGdFpTNXBibkIxZEM1dFlYaFFiMmx1ZEdWeWN5QTlJREU3WEhKY2JpQWdJQ0IwYUdsekxtZGhiV1V1YzNSaGRHVXVjM1JoY25Rb0ozQnlaV3h2WVdRbktUdGNjbHh1SUNCOVhISmNibHh5WEc1OUlsMTkiLCIvL3JlcXVpcmUgb3RoZXIgY29tcG9uZW50c1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcblx0dmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChfeCwgX3gyLCBfeDMpIHsgdmFyIF9hZ2FpbiA9IHRydWU7IF9mdW5jdGlvbjogd2hpbGUgKF9hZ2FpbikgeyB2YXIgb2JqZWN0ID0gX3gsIHByb3BlcnR5ID0gX3gyLCByZWNlaXZlciA9IF94MzsgX2FnYWluID0gZmFsc2U7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyBfeCA9IHBhcmVudDsgX3gyID0gcHJvcGVydHk7IF94MyA9IHJlY2VpdmVyOyBfYWdhaW4gPSB0cnVlOyBkZXNjID0gcGFyZW50ID0gdW5kZWZpbmVkOyBjb250aW51ZSBfZnVuY3Rpb247IH0gfSBlbHNlIGlmICgndmFsdWUnIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBfcHJlZmFic0h1bWFuSnMgPSByZXF1aXJlKCcuLi9wcmVmYWJzL0h1bWFuLmpzJyk7XG5cbnZhciBfcHJlZmFic0h1bWFuSnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJlZmFic0h1bWFuSnMpO1xuXG52YXIgX3ByZWZhYnNTa2VsZXRvbkpzID0gcmVxdWlyZSgnLi4vcHJlZmFicy9Ta2VsZXRvbi5qcycpO1xuXG52YXIgX3ByZWZhYnNTa2VsZXRvbkpzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ByZWZhYnNTa2VsZXRvbkpzKTtcblxudmFyIF9wcmVmYWJzTnVtYmVyQm94SnMgPSByZXF1aXJlKCcuLi9wcmVmYWJzL051bWJlckJveC5qcycpO1xuXG52YXIgX3ByZWZhYnNOdW1iZXJCb3hKczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcmVmYWJzTnVtYmVyQm94SnMpO1xuXG52YXIgRW5lbWllcyA9IChmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIEVuZW1pZXMoZ2FtZSwgcGFyZW50R3JvdXApIHtcblx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW5lbWllcyk7XG5cblx0XHR0aGlzLmdhbWUgPSBnYW1lO1xuXHRcdHRoaXMuX2VuZW1pZXMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKHBhcmVudEdyb3VwKTtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhFbmVtaWVzLCBbe1xuXHRcdGtleTogJ2ZpbmROZWFyZXN0Jyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gZmluZE5lYXJlc3QoeGMsIHljKSB7XG5cdFx0XHR2YXIgbG93ZXN0Q2hpbGQgPSBudWxsO1xuXHRcdFx0dmFyIGxvd2VzdERpc3RhbmNlID0gMTAwMDAwMDA7XG5cblx0XHRcdHRoaXMuX2VuZW1pZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcblx0XHRcdFx0dmFyIGRpc3RhbmNlID0gUGhhc2VyLk1hdGguZGlzdGFuY2UoeGMsIHljLCBjaGlsZC54LCBjaGlsZC55KTtcblxuXHRcdFx0XHRpZiAoIWxvd2VzdENoaWxkKSB7XG5cdFx0XHRcdFx0bG93ZXN0Q2hpbGQgPSBjaGlsZDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZGlzdGFuY2UgPCBsb3dlc3REaXN0YW5jZSkge1xuXHRcdFx0XHRcdFx0bG93ZXN0Q2hpbGQgPSBjaGlsZDtcblx0XHRcdFx0XHRcdGxvd2VzdERpc3RhbmNlID0gZGlzdGFuY2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzLl9lbmVtaWVzLCB0cnVlKTsgLy8gd2hhdCdzIHRydWVcblx0XHRcdHJldHVybiBsb3dlckNoaWxkO1xuXHRcdH1cblx0fV0pO1xuXG5cdHJldHVybiBFbmVtaWVzO1xufSkoKTtcblxudmFyIEdhbWUgPSAoZnVuY3Rpb24gKF9QaGFzZXIkU3RhdGUpIHtcblx0X2luaGVyaXRzKEdhbWUsIF9QaGFzZXIkU3RhdGUpO1xuXG5cdGZ1bmN0aW9uIEdhbWUoKSB7XG5cdFx0X2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdhbWUpO1xuXG5cdFx0Ly9vYmplY3QgbGV2ZWwgcHJvcGVydGllc1xuXHRcdF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKEdhbWUucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzKTtcblx0XHR0aGlzLnBsYXllckxpZmUgPSAxMDtcblx0XHR0aGlzLm1vbmV5ID0gMTAwO1xuXHRcdHRoaXMuc3Bhd25UaW1lID0gMTAwMDtcblx0fVxuXG5cdF9jcmVhdGVDbGFzcyhHYW1lLCBbe1xuXHRcdGtleTogJ2NyZWF0ZScsXG5cdFx0dmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHRoaXMubWFwRGF0YSA9IHRoaXMuZ2FtZS5jYWNoZS5nZXRKU09OKCdtYXBkYXRhJyk7XG5cdFx0XHR0aGlzLmdhbWUucGh5c2ljcy5zdGFydFN5c3RlbShQaGFzZXIuUGh5c2ljcy5BUkNBREUpO1xuXHRcdFx0dGhpcy5nYW1lLnRpbWUuYWR2YW5jZWRUaW1pbmcgPSB0cnVlO1xuXHRcdFx0dGhpcy5nYW1lLmFkZC5zcHJpdGUoMCwgMCwgXCJnYW1lYmdcIik7XG5cdFx0XHR0aGlzLmdhbWUucGx1Z2lucy5hZGQobmV3IFBoYXNlci5QbHVnaW4uSXNvbWV0cmljKHRoaXMuZ2FtZSkpO1xuXHRcdFx0dGhpcy5nYW1lLmlzby5hbmNob3Iuc2V0VG8oMC41LCAwLjIpO1xuXHRcdFx0dGhpcy5pc29Hcm91cCA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAoKTtcblx0XHRcdHRoaXMuaXNvQ2hhcnMgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XG5cdFx0XHR0aGlzLmFsbGllcyA9IHRoaXMuZ2FtZS5hZGQuZ3JvdXAodGhpcy5pc29DaGFycyk7XG5cdFx0XHR0aGlzLmVuZW1pZXMgPSBuZXcgRW5lbWllcyh0aGlzLmdhbWUsIHRoaXMuaXNvQ2hhcnMpO1xuXHRcdFx0dGhpcy5hcnJvd3MgPSB0aGlzLmdhbWUuYWRkLmdyb3VwKCk7XG5cdFx0XHR0aGlzLmFycm93cy5lbmFibGVCb2R5ID0gdHJ1ZTtcblx0XHRcdHRoaXMuYXJyb3dzLnBoeXNpY3NCb2R5VHlwZSA9IFBoYXNlci5QaHlzaWNzLkFSQ0FERTtcblxuXHRcdFx0Ly9cblx0XHRcdC8vIFRFU1Rcblx0XHRcdHZhciBfaHVtYW4gPSBuZXcgX3ByZWZhYnNIdW1hbkpzMlsnZGVmYXVsdCddKHRoaXMuZ2FtZSwgMjAwLCAyMDApO1xuXHRcdFx0dGhpcy5hbGxpZXMuYWRkKF9odW1hbik7XG5cdFx0XHR2YXIgX3NrZWxldG9uID0gbmV3IF9wcmVmYWJzU2tlbGV0b25KczJbJ2RlZmF1bHQnXSh0aGlzLmdhbWUsIDMwMCwgMjAwKTtcblx0XHRcdHRoaXMuYWxsaWVzLmFkZChfc2tlbGV0b24pO1xuXG5cdFx0XHR0aGlzLnNwYXduVGlsZXMoKTtcblxuXHRcdFx0dGhpcy5lYXN5c3RhciA9IG5ldyBFYXN5U3Rhci5qcygpO1xuXHRcdFx0dGhpcy5lYXN5c3Rhci5zZXRHcmlkKHRoaXMubWFwRGF0YS50aWxlTWFwKTtcblx0XHRcdHRoaXMuZWFzeXN0YXIuc2V0QWNjZXB0YWJsZVRpbGVzKFsxXSk7XG5cdFx0XHR0aGlzLmJvdW5kRm91bmQgPSB0aGlzLnBhdGhGb3VuZC5iaW5kKHRoaXMpO1xuXHRcdFx0dGhpcy5lYXN5c3Rhci5maW5kUGF0aCgxLCAwLCAwLCA0LCB0aGlzLmJvdW5kRm91bmQpO1xuXG5cdFx0XHR0aGlzLmN1cnNvclBvcyA9IG5ldyBQaGFzZXIuUGx1Z2luLklzb21ldHJpYy5Qb2ludDMoKTtcblx0XHRcdHRoaXMubmV4dFNwYXduID0gdGhpcy5nYW1lLnRpbWUubm93ICsgdGhpcy5zcGF3blRpbWU7XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAndXBkYXRlJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXHRcdFx0dGhpcy5nYW1lLmlzby51bnByb2plY3QodGhpcy5nYW1lLmlucHV0LmFjdGl2ZVBvaW50ZXIucG9zaXRpb24sIHRoaXMuY3Vyc29yUG9zKTtcblx0XHRcdHRoaXMuaXNvR3JvdXAuZm9yRWFjaCh0aGlzLmNoZWNrVGlsZXMsIHRoaXMsIGZhbHNlKTtcblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdjaGVja1RpbGVzJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gY2hlY2tUaWxlcyh0aWxlKSB7XG5cdFx0XHR2YXIgaW5Cb3VuZHMgPSB0aWxlLmlzb0JvdW5kcy5jb250YWluc1hZKHRoaXMuY3Vyc29yUG9zLngsIHRoaXMuY3Vyc29yUG9zLnkpO1xuXG5cdFx0XHRpZiAoIXRpbGUuc2VsZWN0ZWQgJiYgaW5Cb3VuZHMpIHtcblx0XHRcdFx0dGlsZS5zZWxlY3RlZCA9IHRydWU7XG5cdFx0XHRcdHRpbGUudGludCA9IDB4ODZiZmRhO1xuXHRcdFx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHRpbGUpLnRvKHsgaXNvWjogNCB9LCAyMDAsIFBoYXNlci5FYXNpbmcuUXVhZHJhdGljLkluT3V0LCB0cnVlKTtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZFRpbGUgPSB0aWxlO1xuXHRcdFx0fSBlbHNlIGlmICh0aWxlLnNlbGVjdGVkICYmICFpbkJvdW5kcykge1xuXHRcdFx0XHR0aWxlLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0XHRcdHRpbGUudGludCA9IDB4ZmZmZmZmO1xuXHRcdFx0XHR0aGlzLmdhbWUuYWRkLnR3ZWVuKHRpbGUpLnRvKHsgaXNvWjogMCB9LCAyMDAsIFBoYXNlci5FYXNpbmcuUXVhZHJhdGljLkluT3V0LCB0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIHtcblx0XHRrZXk6ICdzcGF3blRpbGVzJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gc3Bhd25UaWxlcygpIHtcblx0XHRcdHZhciBzaXplID0gNTU7XG5cdFx0XHR2YXIgbWFwV2lkdGggPSB0aGlzLm1hcERhdGEudGlsZU1hcFswXS5sZW5ndGggLSAxO1xuXHRcdFx0dmFyIG1hcEhlaWdodCA9IHRoaXMubWFwRGF0YS50aWxlTWFwLmxlbmd0aCAtIDE7XG5cdFx0XHR0aGlzLmdhbWVUaWxlcyA9IFtdO1xuXG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHQgICAgdGlsZTtcblx0XHRcdGZvciAodmFyIHkgPSAwOyB5IDw9IG1hcEhlaWdodDsgeSsrKSB7XG5cblx0XHRcdFx0dGhpcy5nYW1lVGlsZXNbeV0gPSBbXTtcblxuXHRcdFx0XHRmb3IgKHZhciB4ID0gMDsgeCA8PSBtYXBXaWR0aDsgeCsrKSB7XG5cdFx0XHRcdFx0dmFyIHRpbGVOdW1iZXIgPSB0aGlzLm1hcERhdGEudGlsZU1hcFt5XVt4XTtcblx0XHRcdFx0XHR2YXIgdGlsZU5hbWUgPSB0aGlzLm1hcERhdGEudGlsZU5hbWVzW3RpbGVOdW1iZXJdO1xuXHRcdFx0XHRcdHRpbGUgPSB0aGlzLmdhbWUuYWRkLmlzb1Nwcml0ZSh4ICogc2l6ZSwgeSAqIHNpemUsIDAsIHRpbGVOYW1lLCAwLCB0aGlzLmlzb0dyb3VwKTtcblx0XHRcdFx0XHR0aWxlLmFuY2hvci5zZXQoMC41LCAwKTtcblx0XHRcdFx0XHR0aWxlLmJ1eWFibGUgPSB0aWxlTnVtYmVyID09IDAgPyB0cnVlIDogZmFsc2U7XG5cdFx0XHRcdFx0dGhpcy5nYW1lVGlsZXNbeV1beF0gPSB0aWxlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB7XG5cdFx0a2V5OiAncGF0aEZvdW5kJyxcblx0XHR2YWx1ZTogZnVuY3Rpb24gcGF0aEZvdW5kKHBhdGgpIHtcblx0XHRcdGlmIChwYXRoICE9IG51bGwpIHtcblx0XHRcdFx0dGhpcy5jb252ZXJ0ZWRQYXRoID0gW107XG5cdFx0XHRcdHZhciBjdXJQb2ludDtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwYXRoLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0Y3VyUG9pbnQgPSB0aGlzLmdhbWVUaWxlc1twYXRoW2ldLnldW3BhdGhbaV0ueF07XG5cdFx0XHRcdFx0dGhpcy5jb252ZXJ0ZWRQYXRoLnB1c2goeyB4OiBjdXJQb2ludC5pc29YLCB5OiBjdXJQb2ludC5pc29ZIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XSk7XG5cblx0cmV0dXJuIEdhbWU7XG59KShQaGFzZXIuU3RhdGUpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBHYW1lO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12YzNSaGRHVnpMMGRoYldVdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqczdPenM3T3pzN096czdPenM3T3pzN096aENRVVZyUWl4eFFrRkJjVUk3T3pzN2FVTkJRMnhDTEhkQ1FVRjNRanM3T3p0clEwRkRka0lzZVVKQlFYbENPenM3TzBsQlJYcERMRTlCUVU4N1FVRkRSQ3hWUVVST0xFOUJRVThzUTBGRFFTeEpRVUZKTEVWQlFVVXNWMEZCVnl4RlFVRkRPM2RDUVVSNlFpeFBRVUZQT3p0QlFVVlNMRTFCUVVrc1EwRkJReXhKUVVGSkxFZEJRVWNzU1VGQlNTeERRVUZETzBGQlEycENMRTFCUVVrc1EwRkJReXhSUVVGUkxFZEJRVWNzU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1MwRkJTeXhEUVVGRExGZEJRVmNzUTBGQlF5eERRVUZETzBWQlEzQkVPenRqUVVwSkxFOUJRVTg3TzFOQlRVUXNjVUpCUVVNc1JVRkJSU3hGUVVGRkxFVkJRVVVzUlVGQlF6dEJRVU5zUWl4UFFVRkpMRmRCUVZjc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRGRrSXNUMEZCU1N4alFVRmpMRWRCUVVjc1VVRkJVU3hEUVVGRE96dEJRVVU1UWl4UFFVRkpMRU5CUVVNc1VVRkJVU3hEUVVGRExFOUJRVThzUTBGQlF5eFZRVUZUTEV0QlFVc3NSVUZCUXp0QlFVTndReXhSUVVGSkxGRkJRVkVzUjBGQlJ5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhGUVVGRkxFVkJRVVVzUlVGQlJTeEZRVUZGTEV0QlFVc3NRMEZCUXl4RFFVRkRMRVZCUVVVc1MwRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZET3p0QlFVVTVSQ3hSUVVGSExFTkJRVU1zVjBGQlZ5eEZRVUZETzBGQlEyWXNaMEpCUVZjc1IwRkJSeXhMUVVGTExFTkJRVU03UzBGRGNFSXNUVUZCVFR0QlFVTk9MRk5CUVVrc1VVRkJVU3hIUVVGSExHTkJRV01zUlVGQlF6dEJRVU0zUWl4cFFrRkJWeXhIUVVGSExFdEJRVXNzUTBGQlF6dEJRVU53UWl4dlFrRkJZeXhIUVVGSExGRkJRVkVzUTBGQlF6dE5RVU14UWp0TFFVTkVPMGxCUTBRc1JVRkJSU3hKUVVGSkxFTkJRVU1zVVVGQlVTeEZRVUZGTEVsQlFVa3NRMEZCUXl4RFFVRkRPMEZCUTNoQ0xGVkJRVThzVlVGQlZTeERRVUZETzBkQlEyeENPenM3VVVGMlFra3NUMEZCVHpzN08wbEJNRUpSTEVsQlFVazdWMEZCU2l4SlFVRkpPenRCUVVWYUxGVkJSbEVzU1VGQlNTeEhRVVZVTzNkQ1FVWkxMRWxCUVVrN096dEJRVWx5UWl3MlFrRkthVUlzU1VGQlNTdzJRMEZKWWp0QlFVTllMRTFCUVVrc1EwRkJReXhWUVVGVkxFZEJRVWNzUlVGQlJTeERRVUZETzBGQlEzSkNMRTFCUVVrc1EwRkJReXhMUVVGTExFZEJRVWNzUjBGQlJ5eERRVUZETzBGQlEycENMRTFCUVVrc1EwRkJReXhUUVVGVExFZEJRVWNzU1VGQlNTeERRVUZETzBWQlEzQkNPenRqUVZKclFpeEpRVUZKT3p0VFFWVnFRaXhyUWtGQlJ6dEJRVU5NTEU5QlFVa3NRMEZCUXl4UFFVRlBMRWRCUVVrc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNUMEZCVHl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRE8wRkJRM1JFTEU5QlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExGZEJRVmNzUTBGQlF5eE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGQk8wRkJRM0JFTEU5QlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExHTkJRV01zUjBGQlJ5eEpRVUZKTEVOQlFVTTdRVUZEY2tNc1QwRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNUVUZCVFN4RFFVRkRMRU5CUVVNc1JVRkJSU3hEUVVGRExFVkJRVVVzVVVGQlVTeERRVUZETEVOQlFVTTdRVUZEY2tNc1QwRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWxCUVVrc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF5eFRRVUZUTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhEUVVGRExFTkJRVU03UVVGRE9VUXNUMEZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zVFVGQlRTeERRVUZETEV0QlFVc3NRMEZCUXl4SFFVRkhMRVZCUVVVc1IwRkJSeXhEUVVGRExFTkJRVU03UVVGRGNrTXNUMEZCU1N4RFFVRkRMRkZCUVZFc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4TFFVRkxMRVZCUVVVc1EwRkJRenRCUVVOMFF5eFBRVUZKTEVOQlFVTXNVVUZCVVN4SFFVRkhMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NSVUZCUlN4RFFVRkRPMEZCUTNSRExFOUJRVWtzUTBGQlF5eE5RVUZOTEVkQlFVY3NTVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zUzBGQlN5eERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenRCUVVOcVJDeFBRVUZKTEVOQlFVTXNUMEZCVHl4SFFVRkhMRWxCUVVrc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVWQlFVVXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRM0pFTEU5QlFVa3NRMEZCUXl4TlFVRk5MRWRCUVVjc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNTMEZCU3l4RlFVRkZMRU5CUVVNN1FVRkRjRU1zVDBGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4VlFVRlZMRWRCUVVjc1NVRkJTU3hEUVVGRE8wRkJRemxDTEU5QlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1pVRkJaU3hIUVVGSExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRPenM3TzBGQlNYQkVMRTlCUVVrc1RVRkJUU3hIUVVGSExHZERRVUZWTEVsQlFVa3NRMEZCUXl4SlFVRkpMRVZCUVVVc1IwRkJSeXhGUVVGRkxFZEJRVWNzUTBGQlF5eERRVUZETzBGQlF6VkRMRTlCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zUjBGQlJ5eERRVUZETEUxQlFVMHNRMEZCUXl4RFFVRkRPMEZCUTNoQ0xFOUJRVWtzVTBGQlV5eEhRVUZITEcxRFFVRmhMRWxCUVVrc1EwRkJReXhKUVVGSkxFVkJRVVVzUjBGQlJ5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkRPMEZCUTJ4RUxFOUJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNSMEZCUnl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRE96dEJRVVV6UWl4UFFVRkpMRU5CUVVNc1ZVRkJWU3hGUVVGRkxFTkJRVU03TzBGQlJXeENMRTlCUVVrc1EwRkJReXhSUVVGUkxFZEJRVWNzU1VGQlNTeFJRVUZSTEVOQlFVTXNSVUZCUlN4RlFVRkZMRU5CUVVNN1FVRkRiRU1zVDBGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4UFFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5eFBRVUZQTEVOQlFVTXNRMEZCUXp0QlFVTTFReXhQUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEd0Q1FVRnJRaXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTjBReXhQUVVGSkxFTkJRVU1zVlVGQlZTeEhRVUZITEVsQlFVa3NRMEZCUXl4VFFVRlRMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlF6VkRMRTlCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNSVUZCUlN4RFFVRkRMRVZCUVVVc1EwRkJReXhGUVVGRkxFTkJRVU1zUlVGQlJTeEpRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRU5CUVVNN08wRkJSWEJFTEU5QlFVa3NRMEZCUXl4VFFVRlRMRWRCUVVjc1NVRkJTU3hOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEZOQlFWTXNRMEZCUXl4TlFVRk5MRVZCUVVVc1EwRkJRenRCUVVOMFJDeFBRVUZKTEVOQlFVTXNVMEZCVXl4SFFVRkhMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NSMEZCUnl4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRE8wZEJRM0pFT3pzN1UwRkhTeXhyUWtGQlJ6dEJRVU5TTEU5QlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhEUVVGRExGTkJRVk1zUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhoUVVGaExFTkJRVU1zVVVGQlVTeEZRVUZGTEVsQlFVa3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJRenRCUVVOb1JpeFBRVUZKTEVOQlFVTXNVVUZCVVN4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFTkJRVU1zVlVGQlZTeEZRVUZGTEVsQlFVa3NSVUZCUlN4TFFVRkxMRU5CUVVNc1EwRkJRenRIUVVOd1JEczdPMU5CUjFNc2IwSkJRVU1zU1VGQlNTeEZRVUZETzBGQlEyWXNUMEZCU1N4UlFVRlJMRWRCUVVjc1NVRkJTU3hEUVVGRExGTkJRVk1zUTBGQlF5eFZRVUZWTEVOQlFVTXNTVUZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRExFVkJRVVVzU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJRenM3UVVGRk4wVXNUMEZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhSUVVGUkxFbEJRVWtzVVVGQlVTeEZRVUZETzBGQlF6ZENMRkZCUVVrc1EwRkJReXhSUVVGUkxFZEJRVWNzU1VGQlNTeERRVUZETzBGQlEzSkNMRkZCUVVrc1EwRkJReXhKUVVGSkxFZEJRVWNzVVVGQlVTeERRVUZETzBGQlEzSkNMRkZCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEV0QlFVc3NRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJReXhGUVVGRkxFTkJRVVVzUlVGQlF5eEpRVUZKTEVWQlFVVXNRMEZCUXl4RlFVRkRMRVZCUVVjc1IwRkJSeXhGUVVGRkxFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNVMEZCVXl4RFFVRkRMRXRCUVVzc1JVRkJSU3hKUVVGSkxFTkJRVVVzUTBGQlF6dEJRVU55Uml4UlFVRkpMRU5CUVVNc1dVRkJXU3hIUVVGSExFbEJRVWtzUTBGQlF6dEpRVU42UWl4TlFVRk5MRWxCUVVrc1NVRkJTU3hEUVVGRExGRkJRVkVzU1VGQlNTeERRVUZETEZGQlFWRXNSVUZCUXp0QlFVTnlReXhSUVVGSkxFTkJRVU1zVVVGQlVTeEhRVUZITEV0QlFVc3NRMEZCUXp0QlFVTjBRaXhSUVVGSkxFTkJRVU1zU1VGQlNTeEhRVUZITEZGQlFWRXNRMEZCUXp0QlFVTnlRaXhSUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4TFFVRkxMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU1zUlVGQlJTeERRVUZETEVWQlFVTXNTVUZCU1N4RlFVRkZMRU5CUVVNc1JVRkJReXhGUVVGRkxFZEJRVWNzUlVGQlJTeE5RVUZOTEVOQlFVTXNUVUZCVFN4RFFVRkRMRk5CUVZNc1EwRkJReXhMUVVGTExFVkJRVVVzU1VGQlNTeERRVUZETEVOQlFVTTdTVUZEYkVZN1IwRkZSRHM3TzFOQlJWTXNjMEpCUVVVN1FVRkRXQ3hQUVVGSkxFbEJRVWtzUjBGQlJ5eEZRVUZGTEVOQlFVTTdRVUZEWkN4UFFVRkpMRkZCUVZFc1IwRkJSeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEU5QlFVOHNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhOUVVGTkxFZEJRVWNzUTBGQlF5eERRVUZETzBGQlEyeEVMRTlCUVVrc1UwRkJVeXhIUVVGSExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1IwRkJSeXhEUVVGRExFTkJRVU03UVVGRGFFUXNUMEZCU1N4RFFVRkRMRk5CUVZNc1IwRkJSeXhGUVVGRkxFTkJRVU03TzBGQlJYQkNMRTlCUVVrc1EwRkJReXhIUVVGRExFTkJRVU03VDBGQlJTeEpRVUZKTEVOQlFVTTdRVUZEWkN4UlFVRkxMRWxCUVVrc1EwRkJReXhIUVVGSExFTkJRVU1zUlVGQlJTeERRVUZETEVsQlFVa3NVMEZCVXl4RlFVRkZMRU5CUVVNc1JVRkJSU3hGUVVGRE96dEJRVVZ1UXl4UlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU1zUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXpzN1FVRkZka0lzVTBGQlNTeEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhKUVVGSkxGRkJRVkVzUlVGQlJTeERRVUZETEVWQlFVVXNSVUZCUXp0QlFVTnFReXhUUVVGSkxGVkJRVlVzUjBGQlJ5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTlCUVU4c1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXp0QlFVTTFReXhUUVVGSkxGRkJRVkVzUjBGQlJ5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRk5CUVZNc1EwRkJReXhWUVVGVkxFTkJRVU1zUTBGQlF6dEJRVU5zUkN4VFFVRkpMRWRCUVVjc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNVMEZCVXl4RFFVTTNRaXhEUVVGRExFZEJRVU1zU1VGQlNTeEZRVU5PTEVOQlFVTXNSMEZCUXl4SlFVRkpMRVZCUTA0c1EwRkJReXhGUVVORUxGRkJRVkVzUlVGRFVpeERRVUZETEVWQlEwUXNTVUZCU1N4RFFVRkRMRkZCUVZFc1EwRkRZaXhEUVVGRE8wRkJRMFlzVTBGQlNTeERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRU5CUVVNc1IwRkJSeXhGUVVGRkxFTkJRVU1zUTBGQlF5eERRVUZETzBGQlEzaENMRk5CUVVrc1EwRkJReXhQUVVGUExFZEJRVWNzUVVGQlF5eFZRVUZWTEVsQlFVa3NRMEZCUXl4SFFVRkpMRWxCUVVrc1IwRkJSeXhMUVVGTExFTkJRVU03UVVGRGFFUXNVMEZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNSMEZCUnl4SlFVRkpMRU5CUVVNN1MwRkROVUk3U1VGRFJEdEhRVU5FT3pzN1UwRkZVU3h0UWtGQlF5eEpRVUZKTEVWQlFVTTdRVUZEWkN4UFFVRkpMRWxCUVVrc1NVRkJTU3hKUVVGSkxFVkJRVU03UVVGRGFFSXNVVUZCU1N4RFFVRkRMR0ZCUVdFc1IwRkJSeXhGUVVGRkxFTkJRVU03UVVGRGVFSXNVVUZCU1N4UlFVRlJMRU5CUVVNN1FVRkRZaXhUUVVGSkxFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRWRCUVVjc1NVRkJTU3hEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETEVWQlFVVXNSVUZCUXp0QlFVTnVReXhoUVVGUkxFZEJRVWNzU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4SlFVRkpMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzBGQlEyaEVMRk5CUVVrc1EwRkJReXhoUVVGaExFTkJRVU1zU1VGQlNTeERRVUZGTEVWQlFVTXNRMEZCUXl4RlFVRkZMRkZCUVZFc1EwRkJReXhKUVVGSkxFVkJRVVVzUTBGQlF5eEZRVUZGTEZGQlFWRXNRMEZCUXl4SlFVRkpMRVZCUVVNc1EwRkJSU3hEUVVGRE8wdEJRMmhGTzBsQlEwUTdSMEZEUkRzN08xRkJla2RyUWl4SlFVRkpPMGRCUVZNc1RVRkJUU3hEUVVGRExFdEJRVXM3TzNGQ1FVRjZRaXhKUVVGSklpd2labWxzWlNJNklpOVZjMlZ5Y3k5c1pYTnpZVzVrY204dlNHRmphMmx1Wnk5S1V5OUhRVTFGTDFCSVFWTkZVaTlpYjI5ckxYUnlZWFpwY3kxbVlXRnpMMVJ2ZDJWeVJHVm1aVzV6WlM5emNtTXZjM1JoZEdWekwwZGhiV1V1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXZMM0psY1hWcGNtVWdiM1JvWlhJZ1kyOXRjRzl1Wlc1MGMxeHlYRzVjY2x4dWFXMXdiM0owSUVoMWJXRnVJR1p5YjIwZ0p5NHVMM0J5WldaaFluTXZTSFZ0WVc0dWFuTW5PMXh5WEc1cGJYQnZjblFnVTJ0bGJHVjBiMjRnWm5KdmJTQW5MaTR2Y0hKbFptRmljeTlUYTJWc1pYUnZiaTVxY3ljN1hISmNibWx0Y0c5eWRDQk9kVzFpWlhKQ2IzZ2dabkp2YlNBbkxpNHZjSEpsWm1GaWN5OU9kVzFpWlhKQ2IzZ3Vhbk1uTzF4eVhHNWNjbHh1WTJ4aGMzTWdSVzVsYldsbGN5QjdYSEpjYmx4MFkyOXVjM1J5ZFdOMGIzSW9aMkZ0WlN3Z2NHRnlaVzUwUjNKdmRYQXBlMXh5WEc1Y2RDQWdJQ0IwYUdsekxtZGhiV1VnUFNCbllXMWxPMXh5WEc1Y2RDQWdJQ0IwYUdsekxsOWxibVZ0YVdWeklEMGdkR2hwY3k1bllXMWxMbUZrWkM1bmNtOTFjQ2h3WVhKbGJuUkhjbTkxY0NrN1hISmNibHgwZlZ4eVhHNWNjbHh1WEhSbWFXNWtUbVZoY21WemRDaDRZeXdnZVdNcGUxeHlYRzVjZEZ4MGRtRnlJR3h2ZDJWemRFTm9hV3hrSUQwZ2JuVnNiRHRjY2x4dVhIUmNkSFpoY2lCc2IzZGxjM1JFYVhOMFlXNWpaU0E5SURFd01EQXdNREF3TzF4eVhHNWNjbHh1WEhSY2RIUm9hWE11WDJWdVpXMXBaWE11Wm05eVJXRmphQ2htZFc1amRHbHZiaWhqYUdsc1pDbDdYSEpjYmx4MFhIUmNkSFpoY2lCa2FYTjBZVzVqWlNBOUlGQm9ZWE5sY2k1TllYUm9MbVJwYzNSaGJtTmxLSGhqTENCNVl5d2dZMmhwYkdRdWVDd2dZMmhwYkdRdWVTazdYSEpjYmx4eVhHNWNkRngwWEhScFppZ2hiRzkzWlhOMFEyaHBiR1FwZTF4eVhHNWNkRngwWEhSY2RHeHZkMlZ6ZEVOb2FXeGtJRDBnWTJocGJHUTdYSEpjYmx4MFhIUmNkSDBnWld4elpTQjdYSEpjYmx4MFhIUmNkRngwYVdZZ0tHUnBjM1JoYm1ObElEd2diRzkzWlhOMFJHbHpkR0Z1WTJVcGUxeHlYRzVjZEZ4MFhIUmNkRngwYkc5M1pYTjBRMmhwYkdRZ1BTQmphR2xzWkR0Y2NseHVYSFJjZEZ4MFhIUmNkR3h2ZDJWemRFUnBjM1JoYm1ObElEMGdaR2x6ZEdGdVkyVTdYSEpjYmx4MFhIUmNkRngwZlZ4eVhHNWNkRngwWEhSOVhISmNibHgwWEhSOUxDQjBhR2x6TGw5bGJtVnRhV1Z6TENCMGNuVmxLVHNnTHk4Z2QyaGhkQ2R6SUhSeWRXVmNjbHh1WEhSY2RISmxkSFZ5YmlCc2IzZGxja05vYVd4a08xeHlYRzVjZEgxY2NseHVmVnh5WEc1Y2NseHVaWGh3YjNKMElHUmxabUYxYkhRZ1kyeGhjM01nUjJGdFpTQmxlSFJsYm1SeklGQm9ZWE5sY2k1VGRHRjBaU0I3WEhKY2JseHlYRzRnSUdOdmJuTjBjblZqZEc5eUtDa2dlMXh5WEc0Z0lDQWdMeTl2WW1wbFkzUWdiR1YyWld3Z2NISnZjR1Z5ZEdsbGMxeHlYRzRnSUNBZ2MzVndaWElvS1R0Y2NseHVYSFIwYUdsekxuQnNZWGxsY2t4cFptVWdQU0F4TUR0Y2NseHVYSFIwYUdsekxtMXZibVY1SUQwZ01UQXdPMXh5WEc1Y2RIUm9hWE11YzNCaGQyNVVhVzFsSUQwZ01UQXdNRHRjY2x4dUlDQjlYSEpjYmx4eVhHNGdJR055WldGMFpTZ3BJSHRjY2x4dUlDQWdJQ0FnZEdocGN5NXRZWEJFWVhSaElEMGdJSFJvYVhNdVoyRnRaUzVqWVdOb1pTNW5aWFJLVTA5T0tDZHRZWEJrWVhSaEp5azdYSEpjYmx4MElDQjBhR2x6TG1kaGJXVXVjR2g1YzJsamN5NXpkR0Z5ZEZONWMzUmxiU2hRYUdGelpYSXVVR2g1YzJsamN5NUJVa05CUkVVcFhISmNibHgwSUNCMGFHbHpMbWRoYldVdWRHbHRaUzVoWkhaaGJtTmxaRlJwYldsdVp5QTlJSFJ5ZFdVN1hISmNibHgwSUNCMGFHbHpMbWRoYldVdVlXUmtMbk53Y21sMFpTZ3dMQ0F3TENCY0ltZGhiV1ZpWjF3aUtUdGNjbHh1WEhRZ0lIUm9hWE11WjJGdFpTNXdiSFZuYVc1ekxtRmtaQ2h1WlhjZ1VHaGhjMlZ5TGxCc2RXZHBiaTVKYzI5dFpYUnlhV01vZEdocGN5NW5ZVzFsS1NrN1hISmNibHgwSUNCMGFHbHpMbWRoYldVdWFYTnZMbUZ1WTJodmNpNXpaWFJVYnlnd0xqVXNJREF1TWlrN1hISmNibHgwSUNCMGFHbHpMbWx6YjBkeWIzVndJRDBnZEdocGN5NW5ZVzFsTG1Ga1pDNW5jbTkxY0NncE8xeHlYRzVjZENBZ2RHaHBjeTVwYzI5RGFHRnljeUE5SUhSb2FYTXVaMkZ0WlM1aFpHUXVaM0p2ZFhBb0tUdGNjbHh1WEhRZ0lIUm9hWE11WVd4c2FXVnpJRDBnZEdocGN5NW5ZVzFsTG1Ga1pDNW5jbTkxY0NoMGFHbHpMbWx6YjBOb1lYSnpLVHRjY2x4dVhIUWdJSFJvYVhNdVpXNWxiV2xsY3lBOUlHNWxkeUJGYm1WdGFXVnpLSFJvYVhNdVoyRnRaU3dnZEdocGN5NXBjMjlEYUdGeWN5azdYSEpjYmx4MElDQjBhR2x6TG1GeWNtOTNjeUE5SUhSb2FYTXVaMkZ0WlM1aFpHUXVaM0p2ZFhBb0tUdGNjbHh1WEhRZ0lIUm9hWE11WVhKeWIzZHpMbVZ1WVdKc1pVSnZaSGtnUFNCMGNuVmxPMXh5WEc1Y2RDQWdkR2hwY3k1aGNuSnZkM011Y0doNWMybGpjMEp2WkhsVWVYQmxJRDBnVUdoaGMyVnlMbEJvZVhOcFkzTXVRVkpEUVVSRk8xeHlYRzVjY2x4dVhIUWdJQzh2WEhKY2JseDBJQ0F2THlCVVJWTlVYSEpjYmx4MElDQjJZWElnWDJoMWJXRnVJRDBnYm1WM0lFaDFiV0Z1S0hSb2FYTXVaMkZ0WlN3Z01qQXdMQ0F5TURBcE8xeHlYRzVjZENBZ2RHaHBjeTVoYkd4cFpYTXVZV1JrS0Y5b2RXMWhiaWs3WEhKY2JseDBJQ0IyWVhJZ1gzTnJaV3hsZEc5dUlEMGdibVYzSUZOclpXeGxkRzl1S0hSb2FYTXVaMkZ0WlN3Z016QXdMQ0F5TURBcE8xeHlYRzVjZENBZ2RHaHBjeTVoYkd4cFpYTXVZV1JrS0Y5emEyVnNaWFJ2YmlrN1hISmNibHh5WEc1Y2RDQWdkR2hwY3k1emNHRjNibFJwYkdWektDazdYSEpjYmx4eVhHNWNkQ0FnZEdocGN5NWxZWE41YzNSaGNpQTlJRzVsZHlCRllYTjVVM1JoY2k1cWN5Z3BPMXh5WEc1Y2RDQWdkR2hwY3k1bFlYTjVjM1JoY2k1elpYUkhjbWxrS0hSb2FYTXViV0Z3UkdGMFlTNTBhV3hsVFdGd0tUdGNjbHh1WEhRZ0lIUm9hWE11WldGemVYTjBZWEl1YzJWMFFXTmpaWEIwWVdKc1pWUnBiR1Z6S0ZzeFhTazdYSEpjYmx4MElDQjBhR2x6TG1KdmRXNWtSbTkxYm1RZ1BTQjBhR2x6TG5CaGRHaEdiM1Z1WkM1aWFXNWtLSFJvYVhNcE8xeHlYRzVjZENBZ2RHaHBjeTVsWVhONWMzUmhjaTVtYVc1a1VHRjBhQ2d4TENBd0xDQXdMQ0EwTENCMGFHbHpMbUp2ZFc1a1JtOTFibVFwTzF4eVhHNWNjbHh1WEhRZ0lIUm9hWE11WTNWeWMyOXlVRzl6SUQwZ2JtVjNJRkJvWVhObGNpNVFiSFZuYVc0dVNYTnZiV1YwY21sakxsQnZhVzUwTXlncE8xeHlYRzVjZENBZ2RHaHBjeTV1WlhoMFUzQmhkMjRnUFNCMGFHbHpMbWRoYldVdWRHbHRaUzV1YjNjZ0t5QjBhR2x6TG5Od1lYZHVWR2x0WlR0Y2NseHVJQ0I5WEhKY2JseHlYRzVjY2x4dUlDQjFjR1JoZEdVb0tTQjdYSEpjYmx4MElDQjBhR2x6TG1kaGJXVXVhWE52TG5WdWNISnZhbVZqZENoMGFHbHpMbWRoYldVdWFXNXdkWFF1WVdOMGFYWmxVRzlwYm5SbGNpNXdiM05wZEdsdmJpd2dkR2hwY3k1amRYSnpiM0pRYjNNcE8xeHlYRzVjZENBZ2RHaHBjeTVwYzI5SGNtOTFjQzVtYjNKRllXTm9LSFJvYVhNdVkyaGxZMnRVYVd4bGN5d2dkR2hwY3l3Z1ptRnNjMlVwTzF4eVhHNGdJSDFjY2x4dVhISmNibHh5WEc0Z0lHTm9aV05yVkdsc1pYTW9kR2xzWlNsN1hISmNibHgwSUNCMllYSWdhVzVDYjNWdVpITWdQU0IwYVd4bExtbHpiMEp2ZFc1a2N5NWpiMjUwWVdsdWMxaFpLSFJvYVhNdVkzVnljMjl5VUc5ekxuZ3NJSFJvYVhNdVkzVnljMjl5VUc5ekxua3BPMXh5WEc1Y2NseHVYSFFnSUdsbUtDRjBhV3hsTG5ObGJHVmpkR1ZrSUNZbUlHbHVRbTkxYm1SektYdGNjbHh1WEhSY2RDQWdkR2xzWlM1elpXeGxZM1JsWkNBOUlIUnlkV1U3WEhKY2JseDBYSFFnSUhScGJHVXVkR2x1ZENBOUlEQjRPRFppWm1SaE8xeHlYRzVjZEZ4MElDQjBhR2x6TG1kaGJXVXVZV1JrTG5SM1pXVnVLSFJwYkdVcExuUnZLQ0I3YVhOdldqb2dOSDBnTENBeU1EQXNJRkJvWVhObGNpNUZZWE5wYm1jdVVYVmhaSEpoZEdsakxrbHVUM1YwTENCMGNuVmxJQ2s3WEhKY2JseDBYSFFnSUhSb2FYTXVjMlZzWldOMFpXUlVhV3hsSUQwZ2RHbHNaVHRjY2x4dVhIUWdJSDBnWld4elpTQnBaaUFvZEdsc1pTNXpaV3hsWTNSbFpDQW1KaUFoYVc1Q2IzVnVaSE1wZTF4eVhHNWNkRngwSUNCMGFXeGxMbk5sYkdWamRHVmtJRDBnWm1Gc2MyVTdYSEpjYmx4MFhIUWdJSFJwYkdVdWRHbHVkQ0E5SURCNFptWm1abVptTzF4eVhHNWNkRngwSUNCMGFHbHpMbWRoYldVdVlXUmtMblIzWldWdUtIUnBiR1VwTG5SdktIdHBjMjlhT2lBd2ZTd2dNakF3TENCUWFHRnpaWEl1UldGemFXNW5MbEYxWVdSeVlYUnBZeTVKYms5MWRDd2dkSEoxWlNrN1hISmNibHgwSUNCOVhISmNibHh5WEc0Z0lIMWNjbHh1WEhKY2JpQWdjM0JoZDI1VWFXeGxjeWdwZTF4eVhHNWNkQ0FnZG1GeUlITnBlbVVnUFNBMU5UdGNjbHh1WEhRZ0lIWmhjaUJ0WVhCWGFXUjBhQ0E5SUhSb2FYTXViV0Z3UkdGMFlTNTBhV3hsVFdGd1d6QmRMbXhsYm1kMGFDQXRJREU3WEhKY2JseDBJQ0IyWVhJZ2JXRndTR1ZwWjJoMElEMGdkR2hwY3k1dFlYQkVZWFJoTG5ScGJHVk5ZWEF1YkdWdVozUm9JQzBnTVR0Y2NseHVYSFFnSUhSb2FYTXVaMkZ0WlZScGJHVnpJRDBnVzEwN1hISmNibHh5WEc1Y2RDQWdkbUZ5SUdrOU1Dd2dkR2xzWlR0Y2NseHVYSFFnSUdadmNpQW9kbUZ5SUhrZ1BTQXdPeUI1SUR3OUlHMWhjRWhsYVdkb2REc2dlU3NyS1h0Y2NseHVYSEpjYmx4MFhIUWdJSFJvYVhNdVoyRnRaVlJwYkdWelczbGRJRDBnVzEwN1hISmNibHh5WEc1Y2RGeDBJQ0JtYjNJb2RtRnlJSGdnUFNBd095QjRJRHc5SUcxaGNGZHBaSFJvT3lCNEt5c3BlMXh5WEc1Y2RGeDBYSFFnSUhaaGNpQjBhV3hsVG5WdFltVnlJRDBnZEdocGN5NXRZWEJFWVhSaExuUnBiR1ZOWVhCYmVWMWJlRjA3WEhKY2JseDBYSFJjZENBZ2RtRnlJSFJwYkdWT1lXMWxJRDBnZEdocGN5NXRZWEJFWVhSaExuUnBiR1ZPWVcxbGMxdDBhV3hsVG5WdFltVnlYVHRjY2x4dVhIUmNkRngwSUNCMGFXeGxJRDBnZEdocGN5NW5ZVzFsTG1Ga1pDNXBjMjlUY0hKcGRHVW9YSEpjYmx4MFhIUmNkRngwSUNCNEtuTnBlbVVzWEhKY2JseDBYSFJjZEZ4MElDQjVLbk5wZW1Vc1hISmNibHgwWEhSY2RGeDBJQ0F3TEZ4eVhHNWNkRngwWEhSY2RDQWdkR2xzWlU1aGJXVXNYSEpjYmx4MFhIUmNkRngwSUNBd0xGeHlYRzVjZEZ4MFhIUmNkQ0FnZEdocGN5NXBjMjlIY205MWNGeHlYRzVjZEZ4MFhIUWdJQ2s3WEhKY2JseDBYSFJjZENBZ2RHbHNaUzVoYm1Ob2IzSXVjMlYwS0RBdU5Td2dNQ2s3WEhKY2JseDBYSFJjZENBZ2RHbHNaUzVpZFhsaFlteGxJRDBnS0hScGJHVk9kVzFpWlhJZ1BUMGdNQ2tnUHlCMGNuVmxJRG9nWm1Gc2MyVTdYSEpjYmx4MFhIUmNkQ0FnZEdocGN5NW5ZVzFsVkdsc1pYTmJlVjFiZUYwZ1BTQjBhV3hsTzF4eVhHNWNkRngwSUNCOVhISmNibHgwSUNCOVhISmNiaUFnZlZ4eVhHNWNjbHh1SUNCd1lYUm9SbTkxYm1Rb2NHRjBhQ2w3WEhKY2JseDBJQ0JwWmlBb2NHRjBhQ0FoUFNCdWRXeHNLWHRjY2x4dVhIUmNkQ0FnZEdocGN5NWpiMjUyWlhKMFpXUlFZWFJvSUQwZ1cxMDdYSEpjYmx4MFhIUWdJSFpoY2lCamRYSlFiMmx1ZER0Y2NseHVYSFJjZENBZ1ptOXlLSFpoY2lCcElEMGdNRHNnYVNBOElIQmhkR2d1YkdWdVozUm9PeUJwS3lzcGUxeHlYRzVjZEZ4MFhIUWdJR04xY2xCdmFXNTBJRDBnZEdocGN5NW5ZVzFsVkdsc1pYTmJjR0YwYUZ0cFhTNTVYVnR3WVhSb1cybGRMbmhkTzF4eVhHNWNkRngwWEhRZ0lIUm9hWE11WTI5dWRtVnlkR1ZrVUdGMGFDNXdkWE5vS0NCN2VEb2dZM1Z5VUc5cGJuUXVhWE52V0N3Z2VUb2dZM1Z5VUc5cGJuUXVhWE52V1gwZ0tUdGNjbHh1WEhSY2RDQWdmVnh5WEc1Y2RDQWdmVnh5WEc0Z0lIMWNjbHh1WEhKY2JseHlYRzU5WEhKY2JpSmRmUT09IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBQcmVsb2FkID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJlbG9hZCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUHJlbG9hZCk7XG5cbiAgICB0aGlzLmFzc2V0ID0gbnVsbDtcbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHJlbG9hZCwgW3tcbiAgICBrZXk6ICdwcmVsb2FkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlbG9hZCgpIHtcbiAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9hZGluZ19iZycsICdhc3NldHMvaW1hZ2VzL2xvYWRpbmdfYmcuanBnJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuXG4gICAgICAvL2JhY2tncm91bmQgZm9yIGdhbWVcbiAgICAgIHRoaXMuYWRkLnNwcml0ZSgwLCAwLCBcImxvYWRpbmdfYmdcIik7XG5cbiAgICAgIHRoaXMuYXNzZXQgPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5nYW1lLndpZHRoIC8gMiwgdGhpcy5nYW1lLmhlaWdodCAvIDIsICdwcmVsb2FkZXInKTtcbiAgICAgIHRoaXMuYXNzZXQuYW5jaG9yLnNldFRvKDAuNSwgMC41KTtcblxuICAgICAgdGhpcy5sb2FkLm9uTG9hZENvbXBsZXRlLmFkZE9uY2UodGhpcy5vbkxvYWRDb21wbGV0ZSwgdGhpcyk7XG4gICAgICB0aGlzLmxvYWQuc2V0UHJlbG9hZFNwcml0ZSh0aGlzLmFzc2V0KTtcblxuICAgICAgLy9kbyBhbGwgeW91ciBsb2FkaW5nIGhlcmVcbiAgICAgIHRoaXMubG9hZC5wYWNrKCdsZXZlbDEnLCAnYXNzZXRzL2Fzc2V0UGFjay5qc29uJywgbnVsbCwgdGhpcyk7XG5cbiAgICAgIC8vc3RhYWFhcnQgbG9hZFxuICAgICAgdGhpcy5sb2FkLnN0YXJ0KCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuXG4gICAgICBpZiAodGhpcy5yZWFkeSkge1xuICAgICAgICB0aGlzLmdhbWUuc3RhdGUuc3RhcnQoJ2dhbWUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvbkxvYWRDb21wbGV0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTG9hZENvbXBsZXRlKCkge1xuICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFByZWxvYWQ7XG59KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBQcmVsb2FkO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OXNaWE56WVc1a2NtOHZTR0ZqYTJsdVp5OUtVeTlIUVUxRkwxQklRVk5GVWk5aWIyOXJMWFJ5WVhacGN5MW1ZV0Z6TDFSdmQyVnlSR1ZtWlc1elpTOXpjbU12YzNSaGRHVnpMMUJ5Wld4dllXUXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenRKUVVGeFFpeFBRVUZQTzBGQlJXWXNWMEZHVVN4UFFVRlBMRWRCUlZvN01FSkJSa3NzVDBGQlR6czdRVUZIZUVJc1VVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eEpRVUZKTEVOQlFVTTdRVUZEYkVJc1VVRkJTU3hEUVVGRExFdEJRVXNzUjBGQlJ5eExRVUZMTEVOQlFVTTdSMEZEY0VJN08yVkJUR3RDTEU5QlFVODdPMWRCVDI1Q0xHMUNRVUZITzBGQlExSXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zV1VGQldTeEZRVUZGTERoQ1FVRTRRaXhEUVVGRExFTkJRVU03UzBGREwwUTdPenRYUVVWTExHdENRVUZIT3pzN1FVRkhVQ3hWUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEUxQlFVMHNRMEZCUXl4RFFVRkRMRVZCUVVNc1EwRkJReXhGUVVGRkxGbEJRVmtzUTBGQlF5eERRVUZET3p0QlFVVnVReXhWUVVGSkxFTkJRVU1zUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkRMRU5CUVVNc1JVRkJReXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEUxQlFVMHNSMEZCUXl4RFFVRkRMRVZCUVVVc1YwRkJWeXhEUVVGRExFTkJRVU03UVVGRGFFWXNWVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zUzBGQlN5eERRVUZETEVkQlFVY3NSVUZCUlN4SFFVRkhMRU5CUVVNc1EwRkJRenM3UVVGRmJFTXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhqUVVGakxFTkJRVU1zVDBGQlR5eERRVUZETEVsQlFVa3NRMEZCUXl4alFVRmpMRVZCUVVVc1NVRkJTU3hEUVVGRExFTkJRVU03UVVGRE5VUXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhuUWtGQlowSXNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFTkJRVU03T3p0QlFVZDJReXhWUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRVZCUVVVc2RVSkJRWFZDTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWxCUVVrc1EwRkJReXhEUVVGRE96czdRVUZKT1VRc1ZVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVWQlFVVXNRMEZCUXp0TFFVTnVRanM3TzFkQlJVc3NhMEpCUVVjN08wRkJSVkFzVlVGQlJ5eEpRVUZKTEVOQlFVTXNTMEZCU3l4RlFVRkZPMEZCUTJJc1dVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8wOUJReTlDTzB0QlJVWTdPenRYUVVWaExEQkNRVUZITzBGQlEyWXNWVUZCU1N4RFFVRkRMRXRCUVVzc1IwRkJSeXhKUVVGSkxFTkJRVU03UzBGRGJrSTdPenRUUVhoRGEwSXNUMEZCVHpzN08zRkNRVUZRTEU5QlFVOGlMQ0ptYVd4bElqb2lMMVZ6WlhKekwyeGxjM05oYm1SeWJ5OUlZV05yYVc1bkwwcFRMMGRCVFVVdlVFaEJVMFZTTDJKdmIyc3RkSEpoZG1sekxXWmhZWE12Vkc5M1pYSkVaV1psYm5ObEwzTnlZeTl6ZEdGMFpYTXZVSEpsYkc5aFpDNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW1WNGNHOXlkQ0JrWldaaGRXeDBJR05zWVhOeklGQnlaV3h2WVdRZ2UxeHlYRzVjY2x4dUlDQmpiMjV6ZEhKMVkzUnZjaWdwSUh0Y2NseHVJQ0FnSUhSb2FYTXVZWE56WlhRZ1BTQnVkV3hzTzF4eVhHNGdJQ0FnZEdocGN5NXlaV0ZrZVNBOUlHWmhiSE5sTzF4eVhHNGdJSDFjY2x4dVhISmNiaUFnY0hKbGJHOWhaQ2dwSUh0Y2NseHVJQ0FnSUhSb2FYTXViRzloWkM1cGJXRm5aU2duYkc5aFpHbHVaMTlpWnljc0lDZGhjM05sZEhNdmFXMWhaMlZ6TDJ4dllXUnBibWRmWW1jdWFuQm5KeWs3WEhKY2JpQWdmVnh5WEc1Y2NseHVJQ0JqY21WaGRHVW9LU0I3WEhKY2JseHlYRzRnSUNBZ0x5OWlZV05yWjNKdmRXNWtJR1p2Y2lCbllXMWxYSEpjYmlBZ0lDQjBhR2x6TG1Ga1pDNXpjSEpwZEdVb01Dd3dMQ0JjSW14dllXUnBibWRmWW1kY0lpazdYSEpjYmx4eVhHNGdJQ0FnZEdocGN5NWhjM05sZENBOUlIUm9hWE11WVdSa0xuTndjbWwwWlNoMGFHbHpMbWRoYldVdWQybGtkR2d2TWl4MGFHbHpMbWRoYldVdWFHVnBaMmgwTHpJc0lDZHdjbVZzYjJGa1pYSW5LVHRjY2x4dUlDQWdJSFJvYVhNdVlYTnpaWFF1WVc1amFHOXlMbk5sZEZSdktEQXVOU3dnTUM0MUtUdGNjbHh1WEhKY2JpQWdJQ0IwYUdsekxteHZZV1F1YjI1TWIyRmtRMjl0Y0d4bGRHVXVZV1JrVDI1alpTaDBhR2x6TG05dVRHOWhaRU52YlhCc1pYUmxMQ0IwYUdsektUdGNjbHh1SUNBZ0lIUm9hWE11Ykc5aFpDNXpaWFJRY21Wc2IyRmtVM0J5YVhSbEtIUm9hWE11WVhOelpYUXBPMXh5WEc1Y2NseHVJQ0FnSUM4dlpHOGdZV3hzSUhsdmRYSWdiRzloWkdsdVp5Qm9aWEpsWEhKY2JpQWdJQ0IwYUdsekxteHZZV1F1Y0dGamF5Z25iR1YyWld3eEp5d2dKMkZ6YzJWMGN5OWhjM05sZEZCaFkyc3Vhbk52Ymljc0lHNTFiR3dzSUhSb2FYTXBPMXh5WEc1Y2NseHVYSEpjYmlBZ0lDQXZMM04wWVdGaFlYSjBJR3h2WVdSY2NseHVJQ0FnSUhSb2FYTXViRzloWkM1emRHRnlkQ2dwTzF4eVhHNGdJSDFjY2x4dVhISmNiaUFnZFhCa1lYUmxLQ2tnZTF4eVhHNWNjbHh1SUNBZ0lHbG1LSFJvYVhNdWNtVmhaSGtwSUh0Y2NseHVJQ0FnSUNBZ2RHaHBjeTVuWVcxbExuTjBZWFJsTG5OMFlYSjBLQ2RuWVcxbEp5azdYSEpjYmlBZ0lDQjlYSEpjYmx4eVhHNGdJSDFjY2x4dVhISmNiaUFnYjI1TWIyRmtRMjl0Y0d4bGRHVW9LU0I3WEhKY2JpQWdJQ0IwYUdsekxuSmxZV1I1SUQwZ2RISjFaVHRjY2x4dUlDQjlYSEpjYmx4eVhHNTlYSEpjYmlKZGZRPT0iXX0=
